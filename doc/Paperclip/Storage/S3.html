<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>module Paperclip::Storage::S3 - RDoc Documentation</title>

<link type="text/css" media="screen" href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/darkfish.js"></script>


<body id="top" class="module">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../../index.html">Home</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>vendor/plugins/paperclip/lib/paperclip/storage/s3.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-extended">::extended</a>
    
    <li><a href="#method-i-bucket_name">#bucket_name</a>
    
    <li><a href="#method-i-copy_to_local_file">#copy_to_local_file</a>
    
    <li><a href="#method-i-create_bucket">#create_bucket</a>
    
    <li><a href="#method-i-exists-3F">#exists?</a>
    
    <li><a href="#method-i-expiring_url">#expiring_url</a>
    
    <li><a href="#method-i-http_proxy_host">#http_proxy_host</a>
    
    <li><a href="#method-i-http_proxy_password">#http_proxy_password</a>
    
    <li><a href="#method-i-http_proxy_port">#http_proxy_port</a>
    
    <li><a href="#method-i-http_proxy_user">#http_proxy_user</a>
    
    <li><a href="#method-i-parse_credentials">#parse_credentials</a>
    
    <li><a href="#method-i-s3_bucket">#s3_bucket</a>
    
    <li><a href="#method-i-s3_credentials">#s3_credentials</a>
    
    <li><a href="#method-i-s3_host_alias">#s3_host_alias</a>
    
    <li><a href="#method-i-s3_host_name">#s3_host_name</a>
    
    <li><a href="#method-i-s3_interface">#s3_interface</a>
    
    <li><a href="#method-i-s3_object">#s3_object</a>
    
    <li><a href="#method-i-s3_permissions">#s3_permissions</a>
    
    <li><a href="#method-i-s3_protocol">#s3_protocol</a>
    
    <li><a href="#method-i-s3_url_options">#s3_url_options</a>
    
    <li><a href="#method-i-sanitize_hash">#sanitize_hash</a>
    
    <li><a href="#method-i-set_permissions">#set_permissions</a>
    
    <li><a href="#method-i-summarize_hash">#summarize_hash</a>
    
    <li><a href="#method-i-using_http_proxy-3F">#using_http_proxy?</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../../Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../../Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../public/robots_txt.html">robots</a>
  
    <li class="file"><a href="../../vendor/plugins/paperclip/Appraisals.html">Appraisals</a>
  
    <li class="file"><a href="../../vendor/plugins/paperclip/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../../vendor/plugins/paperclip/LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="../../vendor/plugins/paperclip/NEWS.html">NEWS</a>
  
    <li class="file"><a href="../../vendor/plugins/paperclip/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../vendor/plugins/paperclip/UPGRADING.html">UPGRADING</a>
  
    <li class="file"><a href="../../vendor/plugins/paperclip/features/support/fixtures/boot_config_txt.html">boot_config</a>
  
    <li class="file"><a href="../../vendor/plugins/paperclip/features/support/fixtures/gemfile_txt.html">gemfile</a>
  
    <li class="file"><a href="../../vendor/plugins/paperclip/features/support/fixtures/preinitializer_txt.html">preinitializer</a>
  
    <li class="file"><a href="../../vendor/plugins/paperclip/lib/generators/paperclip/USAGE.html">USAGE</a>
  
    <li class="file"><a href="../../vendor/plugins/paperclip/test/fixtures/text_txt.html">text</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../../Paperclip.html">Paperclip</a>
  
    <li><a href="../../Paperclip/AbstractAdapter.html">Paperclip::AbstractAdapter</a>
  
    <li><a href="../../Paperclip/AdapterRegistry.html">Paperclip::AdapterRegistry</a>
  
    <li><a href="../../Paperclip/AdapterRegistry/NoHandlerError.html">Paperclip::AdapterRegistry::NoHandlerError</a>
  
    <li><a href="../../Paperclip/Attachment.html">Paperclip::Attachment</a>
  
    <li><a href="../../Paperclip/AttachmentAdapter.html">Paperclip::AttachmentAdapter</a>
  
    <li><a href="../../Paperclip/AttachmentOptions.html">Paperclip::AttachmentOptions</a>
  
    <li><a href="../../Paperclip/Callbacks.html">Paperclip::Callbacks</a>
  
    <li><a href="../../Paperclip/Callbacks/Defining.html">Paperclip::Callbacks::Defining</a>
  
    <li><a href="../../Paperclip/Callbacks/Running.html">Paperclip::Callbacks::Running</a>
  
    <li><a href="../../Paperclip/ClassMethods.html">Paperclip::ClassMethods</a>
  
    <li><a href="../../Paperclip/ContentTypeDetector.html">Paperclip::ContentTypeDetector</a>
  
    <li><a href="../../Paperclip/Error.html">Paperclip::Error</a>
  
    <li><a href="../../Paperclip/Errors.html">Paperclip::Errors</a>
  
    <li><a href="../../Paperclip/Errors/CommandNotFoundError.html">Paperclip::Errors::CommandNotFoundError</a>
  
    <li><a href="../../Paperclip/Errors/InfiniteInterpolationError.html">Paperclip::Errors::InfiniteInterpolationError</a>
  
    <li><a href="../../Paperclip/Errors/NotIdentifiedByImageMagickError.html">Paperclip::Errors::NotIdentifiedByImageMagickError</a>
  
    <li><a href="../../Paperclip/Errors/StorageMethodNotFound.html">Paperclip::Errors::StorageMethodNotFound</a>
  
    <li><a href="../../Paperclip/FileAdapter.html">Paperclip::FileAdapter</a>
  
    <li><a href="../../Paperclip/Geometry.html">Paperclip::Geometry</a>
  
    <li><a href="../../Paperclip/Glue.html">Paperclip::Glue</a>
  
    <li><a href="../../Paperclip/Helpers.html">Paperclip::Helpers</a>
  
    <li><a href="../../Paperclip/IdentityAdapter.html">Paperclip::IdentityAdapter</a>
  
    <li><a href="../../Paperclip/Interpolations.html">Paperclip::Interpolations</a>
  
    <li><a href="../../Paperclip/Logger.html">Paperclip::Logger</a>
  
    <li><a href="../../Paperclip/NilAdapter.html">Paperclip::NilAdapter</a>
  
    <li><a href="../../Paperclip/Processor.html">Paperclip::Processor</a>
  
    <li><a href="../../Paperclip/ProcessorHelpers.html">Paperclip::ProcessorHelpers</a>
  
    <li><a href="../../Paperclip/Railtie.html">Paperclip::Railtie</a>
  
    <li><a href="../../Paperclip/Schema.html">Paperclip::Schema</a>
  
    <li><a href="../../Paperclip/Schema/CommandRecorder.html">Paperclip::Schema::CommandRecorder</a>
  
    <li><a href="../../Paperclip/Schema/Statements.html">Paperclip::Schema::Statements</a>
  
    <li><a href="../../Paperclip/Schema/TableDefinition.html">Paperclip::Schema::TableDefinition</a>
  
    <li><a href="../../Paperclip/Shoulda.html">Paperclip::Shoulda</a>
  
    <li><a href="../../Paperclip/Shoulda/Matchers.html">Paperclip::Shoulda::Matchers</a>
  
    <li><a href="../../Paperclip/Shoulda/Matchers/HaveAttachedFileMatcher.html">Paperclip::Shoulda::Matchers::HaveAttachedFileMatcher</a>
  
    <li><a href="../../Paperclip/Shoulda/Matchers/ValidateAttachmentContentTypeMatcher.html">Paperclip::Shoulda::Matchers::ValidateAttachmentContentTypeMatcher</a>
  
    <li><a href="../../Paperclip/Shoulda/Matchers/ValidateAttachmentPresenceMatcher.html">Paperclip::Shoulda::Matchers::ValidateAttachmentPresenceMatcher</a>
  
    <li><a href="../../Paperclip/Shoulda/Matchers/ValidateAttachmentSizeMatcher.html">Paperclip::Shoulda::Matchers::ValidateAttachmentSizeMatcher</a>
  
    <li><a href="../../Paperclip/Storage.html">Paperclip::Storage</a>
  
    <li><a href="../../Paperclip/Storage/Filesystem.html">Paperclip::Storage::Filesystem</a>
  
    <li><a href="../../Paperclip/Storage/Fog.html">Paperclip::Storage::Fog</a>
  
    <li><a href="../../Paperclip/Storage/S3.html">Paperclip::Storage::S3</a>
  
    <li><a href="../../Paperclip/StringioAdapter.html">Paperclip::StringioAdapter</a>
  
    <li><a href="../../Paperclip/Style.html">Paperclip::Style</a>
  
    <li><a href="../../Paperclip/Tempfile.html">Paperclip::Tempfile</a>
  
    <li><a href="../../Paperclip/TempfileEncoding.html">Paperclip::TempfileEncoding</a>
  
    <li><a href="../../Paperclip/TempfileFactory.html">Paperclip::TempfileFactory</a>
  
    <li><a href="../../Paperclip/TempfileFactoryTest.html">Paperclip::TempfileFactoryTest</a>
  
    <li><a href="../../Paperclip/Thumbnail.html">Paperclip::Thumbnail</a>
  
    <li><a href="../../Paperclip/UploadedFileAdapter.html">Paperclip::UploadedFileAdapter</a>
  
    <li><a href="../../Paperclip/UriAdapter.html">Paperclip::UriAdapter</a>
  
    <li><a href="../../Paperclip/UrlGenerator.html">Paperclip::UrlGenerator</a>
  
    <li><a href="../../Paperclip/Validators.html">Paperclip::Validators</a>
  
    <li><a href="../../Paperclip/Validators/AttachmentContentTypeValidator.html">Paperclip::Validators::AttachmentContentTypeValidator</a>
  
    <li><a href="../../Paperclip/Validators/AttachmentPresenceValidator.html">Paperclip::Validators::AttachmentPresenceValidator</a>
  
    <li><a href="../../Paperclip/Validators/AttachmentSizeValidator.html">Paperclip::Validators::AttachmentSizeValidator</a>
  
    <li><a href="../../Paperclip/Validators/ClassMethods.html">Paperclip::Validators::ClassMethods</a>
  
    <li><a href="../../Paperclip/Validators/HelperMethods.html">Paperclip::Validators::HelperMethods</a>
  
    <li><a href="../../AttachmentTest.html">AttachmentTest</a>
  
    <li><a href="../../AttachmentTest/AttachmentTest.html">AttachmentTest::AttachmentTest</a>
  
    <li><a href="../../AttachmentTest/AttachmentTest/Paperclip.html">AttachmentTest::AttachmentTest::Paperclip</a>
  
    <li><a href="../../AttachmentTest/AttachmentTest/Paperclip/Test.html">AttachmentTest::AttachmentTest::Paperclip::Test</a>
  
    <li><a href="../../Test.html">Test</a>
  
    <li><a href="../../Test/Unit.html">Test::Unit</a>
  
    <li><a href="../../Test/Unit/TestCase.html">Test::Unit::TestCase</a>
  
    <li><a href="../../AbstractAdapterTest.html">AbstractAdapterTest</a>
  
    <li><a href="../../AbstractAdapterTest/TestAdapter.html">AbstractAdapterTest::TestAdapter</a>
  
    <li><a href="../../ActionController.html">ActionController</a>
  
    <li><a href="../../ActionController/Integration.html">ActionController::Integration</a>
  
    <li><a href="../../AdapterRegistryTest.html">AdapterRegistryTest</a>
  
    <li><a href="../../AdapterRegistryTest/AdapterTest.html">AdapterRegistryTest::AdapterTest</a>
  
    <li><a href="../../BestBay.html">BestBay</a>
  
    <li><a href="../../BestBay/Application.html">BestBay::Application</a>
  
    <li><a href="../../FactoryGirl.html">FactoryGirl</a>
  
    <li><a href="../../FactoryGirl/Factory.html">FactoryGirl::Factory</a>
  
    <li><a href="../../FakeWeb.html">FakeWeb</a>
  
    <li><a href="../../FakeWeb/StubSocket.html">FakeWeb::StubSocket</a>
  
    <li><a href="../../One.html">One</a>
  
    <li><a href="../../One/Two.html">One::Two</a>
  
    <li><a href="../../PaperclipTest.html">PaperclipTest</a>
  
    <li><a href="../../PaperclipTest/Dummy2.html">PaperclipTest::Dummy2</a>
  
    <li><a href="../../UploadedFileAdapterTest.html">UploadedFileAdapterTest</a>
  
    <li><a href="../../UploadedFileAdapterTest/UploadedFile.html">UploadedFileAdapterTest::UploadedFile</a>
  
    <li><a href="../../AddImageToProducts.html">AddImageToProducts</a>
  
    <li><a href="../../AddPasswordDigestToUsers.html">AddPasswordDigestToUsers</a>
  
    <li><a href="../../AddRememberTokenToUsers.html">AddRememberTokenToUsers</a>
  
    <li><a href="../../AddSellingProductsToUsers.html">AddSellingProductsToUsers</a>
  
    <li><a href="../../AddUserIdProductIdToBid.html">AddUserIdProductIdToBid</a>
  
    <li><a href="../../AddUserNameToProducts.html">AddUserNameToProducts</a>
  
    <li><a href="../../ApplicationController.html">ApplicationController</a>
  
    <li><a href="../../ApplicationHelper.html">ApplicationHelper</a>
  
    <li><a href="../../AttachmentAdapterTest.html">AttachmentAdapterTest</a>
  
    <li><a href="../../AttachmentContentTypeValidatorTest.html">AttachmentContentTypeValidatorTest</a>
  
    <li><a href="../../AttachmentHelpers.html">AttachmentHelpers</a>
  
    <li><a href="../../AttachmentOptionsTest.html">AttachmentOptionsTest</a>
  
    <li><a href="../../AttachmentPresenceValidatorTest.html">AttachmentPresenceValidatorTest</a>
  
    <li><a href="../../AttachmentSizeValidatorTest.html">AttachmentSizeValidatorTest</a>
  
    <li><a href="../../Bid.html">Bid</a>
  
    <li><a href="../../Book.html">Book</a>
  
    <li><a href="../../ContentTypeDetectorTest.html">ContentTypeDetectorTest</a>
  
    <li><a href="../../CreateBids.html">CreateBids</a>
  
    <li><a href="../../CreateProducts.html">CreateProducts</a>
  
    <li><a href="../../CreateUsers.html">CreateUsers</a>
  
    <li><a href="../../Dummy.html">Dummy</a>
  
    <li><a href="../../Factory.html">Factory</a>
  
    <li><a href="../../FakeModel.html">FakeModel</a>
  
    <li><a href="../../FileAdapterTest.html">FileAdapterTest</a>
  
    <li><a href="../../FileHelpers.html">FileHelpers</a>
  
    <li><a href="../../FileSystemTest.html">FileSystemTest</a>
  
    <li><a href="../../FixColumNameOfProductUserId.html">FixColumNameOfProductUserId</a>
  
    <li><a href="../../FogTest.html">FogTest</a>
  
    <li><a href="../../Four.html">Four</a>
  
    <li><a href="../../GeneratorTest.html">GeneratorTest</a>
  
    <li><a href="../../GeometryTest.html">GeometryTest</a>
  
    <li><a href="../../HaveAttachedFileMatcherTest.html">HaveAttachedFileMatcherTest</a>
  
    <li><a href="../../HtmlSelectorsHelpers.html">HtmlSelectorsHelpers</a>
  
    <li><a href="../../IdentityAdapterTest.html">IdentityAdapterTest</a>
  
    <li><a href="../../IntegrationTest.html">IntegrationTest</a>
  
    <li><a href="../../InterpolationsTest.html">InterpolationsTest</a>
  
    <li><a href="../../MetaClassTest.html">MetaClassTest</a>
  
    <li><a href="../../MockAttachment.html">MockAttachment</a>
  
    <li><a href="../../MockInterpolator.html">MockInterpolator</a>
  
    <li><a href="../../MockModel.html">MockModel</a>
  
    <li><a href="../../MockUrlGeneratorBuilder.html">MockUrlGeneratorBuilder</a>
  
    <li><a href="../../NavigationHelpers.html">NavigationHelpers</a>
  
    <li><a href="../../NilAdapterTest.html">NilAdapterTest</a>
  
    <li><a href="../../Object.html">Object</a>
  
    <li><a href="../../PaperclipGenerator.html">PaperclipGenerator</a>
  
    <li><a href="../../PaperclipMissingAttachmentStylesTest.html">PaperclipMissingAttachmentStylesTest</a>
  
    <li><a href="../../ProcessorTest.html">ProcessorTest</a>
  
    <li><a href="../../Product.html">Product</a>
  
    <li><a href="../../ProductsController.html">ProductsController</a>
  
    <li><a href="../../ProductsHelper.html">ProductsHelper</a>
  
    <li><a href="../../RailsCommandHelpers.html">RailsCommandHelpers</a>
  
    <li><a href="../../S3LiveTest.html">S3LiveTest</a>
  
    <li><a href="../../S3Test.html">S3Test</a>
  
    <li><a href="../../SchemaTest.html">SchemaTest</a>
  
    <li><a href="../../SessionsController.html">SessionsController</a>
  
    <li><a href="../../SessionsHelper.html">SessionsHelper</a>
  
    <li><a href="../../StaticPagesController.html">StaticPagesController</a>
  
    <li><a href="../../StringioFileProxyTest.html">StringioFileProxyTest</a>
  
    <li><a href="../../StyleTest.html">StyleTest</a>
  
    <li><a href="../../SubDummy.html">SubDummy</a>
  
    <li><a href="../../Three.html">Three</a>
  
    <li><a href="../../ThumbnailTest.html">ThumbnailTest</a>
  
    <li><a href="../../UriProxyTest.html">UriProxyTest</a>
  
    <li><a href="../../UrlGeneratorTest.html">UrlGeneratorTest</a>
  
    <li><a href="../../User.html">User</a>
  
    <li><a href="../../UsersController.html">UsersController</a>
  
    <li><a href="../../UsersHelper.html">UsersHelper</a>
  
    <li><a href="../../ValidateAttachmentContentTypeMatcherTest.html">ValidateAttachmentContentTypeMatcherTest</a>
  
    <li><a href="../../ValidateAttachmentPresenceMatcherTest.html">ValidateAttachmentPresenceMatcherTest</a>
  
    <li><a href="../../ValidateAttachmentSizeMatcherTest.html">ValidateAttachmentSizeMatcherTest</a>
  
    <li><a href="../../ValidatorsTest.html">ValidatorsTest</a>
  
    <li><a href="../../WelcomeHelper.html">WelcomeHelper</a>
  
    <li><a href="../../WithinHelpers.html">WithinHelpers</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="module">module Paperclip::Storage::S3</h1>

  <div id="description" class="description">
    
<p>Amazon’s <a href="S3.html">S3</a> file hosting service is a scalable, easy
place to store files for distribution. You can find out more about it at <a
href="http://aws.amazon.com/s3">aws.amazon.com/s3</a></p>

<p>To use <a href="../../Paperclip.html">Paperclip</a> with <a
href="S3.html">S3</a>, include the <code>aws-sdk</code> gem in your
Gemfile:</p>

<pre>gem 'aws-sdk'</pre>

<p>There are a few S3-specific options for has_attached_file:</p>
<ul><li>
<p><code>s3_credentials</code>: Takes a path, a File, or a Hash. The path (or
File) must point to a YAML file containing the <code>access_key_id</code>
and <code>secret_access_key</code> that Amazon gives you. You can
'environment-space' this just like you do to your database.yml file, so
different environments can use different accounts:</p>

<pre>development:
  access_key_id: 123...
  secret_access_key: 123...
test:
  access_key_id: abc...
  secret_access_key: abc...
production:
  access_key_id: 456...
  secret_access_key: 456...</pre>

<p>This is not required, however, and the file may simply look like this:</p>

<pre>access_key_id: 456...
secret_access_key: 456...</pre>

<p>In which case, those access keys will be used in all environments. You can
also put your bucket name in this file, instead of adding it to the code
directly. This is useful when you want the same account but a different
bucket for development versus production.</p>
</li><li>
<p><code>s3_permissions</code>: This is a String that should be one of the
"canned" access policies that <a href="S3.html">S3</a> provides (more
information can be found here: <a
href="http://docs.amazonwebservices.com/AmazonS3/latest/dev/index.html?RESTAccessPolicy.html">docs.amazonwebservices.com/AmazonS3/latest/dev/index.html?RESTAccessPolicy.html</a>)
The default for <a href="../../Paperclip.html">Paperclip</a> is
:public_read.</p>

<p>You can set permission on a per style bases by doing the following:</p>

<pre class="ruby">:<span class="ruby-identifier">s3_permissions</span> =<span class="ruby-operator">&gt;</span> {
  :<span class="ruby-identifier">original</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">private</span>
}
</pre>

<p>Or globaly:</p>

<pre class="ruby">:<span class="ruby-identifier">s3_permissions</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">private</span>
</pre>
</li><li>
<p><code>s3_protocol</code>: The protocol for the URLs generated to your <a
href="S3.html">S3</a> assets. Can be either 'http', 'https', or an empty
string to generate scheme-less URLs. Defaults to 'http' when your :<a
href="S3.html#method-i-s3_permissions">#s3_permissions</a> are :public_read
(the default), and 'https' when your :<a
href="S3.html#method-i-s3_permissions">#s3_permissions</a> are anything
else.</p>
</li><li>
<p><code>s3_headers</code>: A hash of headers or a Proc. You may specify a
hash such as {'Expires' =&gt; 1.year.from_now.httpdate}. If you use a Proc,
headers are determined at runtime. <a
href="../../Paperclip.html">Paperclip</a> will call that Proc with
attachment as the only argument.</p>
</li><li>
<p><code>bucket</code>: This is the name of the <a href="S3.html">S3</a>
bucket that will store your files. Remember that the bucket must be unique
across all of Amazon <a href="S3.html">S3</a>. If the bucket does not exist
<a href="../../Paperclip.html">Paperclip</a> will attempt to create it. The
bucket name will not be interpolated. You can define the bucket as a Proc
if you want to determine it's name at runtime. <a
href="../../Paperclip.html">Paperclip</a> will call that Proc with
attachment as the only argument.</p>
</li><li>
<p><code>s3_host_alias</code>: The fully-qualified domain name (FQDN) that is
the alias to the <a href="S3.html">S3</a> domain of your bucket. Used with
the :s3_alias_url url interpolation. See the link in the <code>url</code>
entry for more information about <a href="S3.html">S3</a> domains and
buckets.</p>
</li><li>
<p><code>url</code>: There are four options for the <a href="S3.html">S3</a>
url. You can choose to have the bucket's name placed domain-style
(bucket.s3.amazonaws.com) or path-style (s3.amazonaws.com/bucket). You can
also specify a CNAME (which requires the CNAME to be specified as
:s3_alias_url. You can read more about CNAMEs and <a href="S3.html">S3</a>
at <a
href="http://docs.amazonwebservices.com/AmazonS3/latest/index.html?VirtualHosting.html">docs.amazonwebservices.com/AmazonS3/latest/index.html?VirtualHosting.html</a>
Normally, this won't matter in the slightest and you can leave the default
(which is path-style, or :s3_path_url). But in some cases paths don't work
and you need to use the domain-style (:s3_domain_url). Anything else here
will be treated like path-style.</p>

<p>Notes:</p>
<ul><li>
<p>The value of this option is a string, not a symbol. <strong>right:</strong>
<code>&quot;:s3_domain_url&quot;</code> <strong>wrong:</strong>
<code>:s3_domain_url</code></p>
</li><li>
<p>If you use a CNAME for use with CloudFront, you can NOT specify https as
your :<a href="S3.html#method-i-s3_protocol">#s3_protocol</a>; This is *not
supported* by S3/CloudFront. Finally, when using the host alias, the
:bucket parameter is ignored, as the hostname is used as the bucket name by
<a href="S3.html">S3</a>. The fourth option for the <a
href="S3.html">S3</a> url is :asset_host, which uses Rails’ built-in
asset_host settings.</p>
</li><li>
<p>To get the full url from a paperclip’d object, use the image_path helper;
this is what image_tag uses to generate the url for an img tag.</p>
</li></ul>
</li><li>
<p><code>path</code>: This is the key under the bucket in which the file will
be stored. The URL will be constructed from the bucket and the path. This
is what you will want to interpolate. Keys should be unique, like
filenames, and despite the fact that <a href="S3.html">S3</a> (strictly
speaking) does not support directories, you can still use a / to separate
parts of your file name.</p>
</li><li>
<p><code>s3_host_name</code>: If you are using your bucket in Tokyo region
etc, write host_name.</p>
</li><li>
<p><code>s3_metadata</code>: These key/value pairs will be stored with the
object.  This option works by prefixing each key with "x-amz-meta-" before
sending it as a header on the object upload request.</p>
</li><li>
<p><code>s3_storage_class</code>: If this option is set to
<code>:reduced_redundancy</code>, the object will be stored using Reduced
Redundancy <a href="../Storage.html">Storage</a>.  RRS enables customers to
reduce their costs by storing non-critical, reproducible data at lower
levels of redundancy than Amazon S3's standard storage.</p>
</li></ul>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-extended" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">extended</span><span
            class="method-args">(base)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="extended-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 93</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">extended</span> <span class="ruby-identifier">base</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">'aws-sdk'</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">LoadError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; (You may need to install the aws-sdk gem)&quot;</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">end</span> <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">AWS</span><span class="ruby-operator">::</span><span class="ruby-constant">Core</span>)

  <span class="ruby-comment"># Overriding AWS::Core::LogFormatter to make sure it return a UTF-8 string</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">AWS</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-string">&quot;1.3.9&quot;</span>
    <span class="ruby-constant">AWS</span><span class="ruby-operator">::</span><span class="ruby-constant">Core</span><span class="ruby-operator">::</span><span class="ruby-constant">LogFormatter</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-keyword">do</span>
      <span class="ruby-keyword">def</span> <span class="ruby-identifier">summarize_hash</span>(<span class="ruby-identifier">hash</span>)
        <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;:#{key}=&gt;#{summarize_value(value)}&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">'UTF-8'</span>) }.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">','</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">AWS</span><span class="ruby-operator">::</span><span class="ruby-constant">Core</span><span class="ruby-operator">::</span><span class="ruby-constant">ClientLogging</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-keyword">do</span>
      <span class="ruby-keyword">def</span> <span class="ruby-identifier">sanitize_hash</span>(<span class="ruby-identifier">hash</span>)
        <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;#{sanitize_value(key)}=&gt;#{sanitize_value(value)}&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">'UTF-8'</span>) }.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">','</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@s3_options</span>     = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_options</span>]     <span class="ruby-operator">||</span> {}
    <span class="ruby-ivar">@s3_permissions</span> = <span class="ruby-identifier">set_permissions</span>(<span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_permissions</span>])
    <span class="ruby-ivar">@s3_protocol</span>    = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_protocol</span>]    <span class="ruby-operator">||</span>
      <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">style</span>, <span class="ruby-identifier">attachment</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">permission</span>  = (<span class="ruby-ivar">@s3_permissions</span>[<span class="ruby-identifier">style</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">to_sym</span>] <span class="ruby-operator">||</span> <span class="ruby-ivar">@s3_permissions</span>[<span class="ruby-value">:default</span>])
        <span class="ruby-identifier">permission</span>  = <span class="ruby-identifier">permission</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">attachment</span>, <span class="ruby-identifier">style</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">permission</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>)
        (<span class="ruby-identifier">permission</span> <span class="ruby-operator">==</span> <span class="ruby-value">:public_read</span>) <span class="ruby-operator">?</span> <span class="ruby-string">'http'</span> <span class="ruby-operator">:</span> <span class="ruby-string">'https'</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@s3_metadata</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_metadata</span>] <span class="ruby-operator">||</span> {}
    <span class="ruby-ivar">@s3_headers</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_headers</span>] <span class="ruby-operator">||</span> {}
    <span class="ruby-ivar">@s3_headers</span> = <span class="ruby-ivar">@s3_headers</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">instance</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@s3_headers</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>)
    <span class="ruby-ivar">@s3_headers</span> = (<span class="ruby-ivar">@s3_headers</span>).<span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">headers</span>,(<span class="ruby-identifier">name</span>,<span class="ruby-identifier">value</span>)<span class="ruby-operator">|</span>
      <span class="ruby-keyword">case</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
      <span class="ruby-keyword">when</span> <span class="ruby-regexp">%r^x-amz-meta-(.*)/</span>
        <span class="ruby-ivar">@s3_metadata</span>[<span class="ruby-node">$1</span>.<span class="ruby-identifier">downcase</span>] = <span class="ruby-identifier">value</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">%r^x-amz-/</span>,<span class="ruby-string">''</span>).<span class="ruby-identifier">tr</span>(<span class="ruby-string">&quot;-&quot;</span>,<span class="ruby-string">&quot;_&quot;</span>).<span class="ruby-identifier">to_sym</span>
        <span class="ruby-identifier">headers</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">headers</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-ivar">@s3_headers</span>[<span class="ruby-value">:storage_class</span>] = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_storage_class</span>] <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_storage_class</span>]

    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_server_side_encryption</span>].<span class="ruby-identifier">blank?</span>
      <span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_server_side_encryption</span>] = <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_server_side_encryption</span>]
      <span class="ruby-ivar">@s3_headers</span>[<span class="ruby-string">'x-amz-server-side-encryption'</span>] = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_server_side_encryption</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:url</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp">%r^:s3.*url$/</span>) <span class="ruby-operator">||</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:url</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;:asset_host&quot;</span>
      <span class="ruby-ivar">@options</span>[<span class="ruby-value">:path</span>] = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:path</span>].<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">%r:url/</span>, <span class="ruby-ivar">@options</span>[<span class="ruby-value">:url</span>]).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">%r^:rails_root\/public\/system/</span>, <span class="ruby-string">''</span>)
      <span class="ruby-ivar">@options</span>[<span class="ruby-value">:url</span>]  = <span class="ruby-string">&quot;:s3_path_url&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@options</span>[<span class="ruby-value">:url</span>] = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:url</span>].<span class="ruby-identifier">inspect</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:url</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>)

    <span class="ruby-ivar">@http_proxy</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:http_proxy</span>] <span class="ruby-operator">||</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Paperclip</span>.<span class="ruby-identifier">interpolates</span>(<span class="ruby-value">:s3_alias_url</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attachment</span>, <span class="ruby-identifier">style</span><span class="ruby-operator">|</span>
    <span class="ruby-node">&quot;#{attachment.s3_protocol(style, true)}//#{attachment.s3_host_alias}/#{attachment.path(style).gsub(%r{^/}, &quot;&quot;)}&quot;</span>
  <span class="ruby-keyword">end</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Paperclip</span><span class="ruby-operator">::</span><span class="ruby-constant">Interpolations</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:s3_alias_url</span>
  <span class="ruby-constant">Paperclip</span>.<span class="ruby-identifier">interpolates</span>(<span class="ruby-value">:s3_path_url</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attachment</span>, <span class="ruby-identifier">style</span><span class="ruby-operator">|</span>
    <span class="ruby-node">&quot;#{attachment.s3_protocol(style, true)}//#{attachment.s3_host_name}/#{attachment.bucket_name}/#{attachment.path(style).gsub(%r{^/}, &quot;&quot;)}&quot;</span>
  <span class="ruby-keyword">end</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Paperclip</span><span class="ruby-operator">::</span><span class="ruby-constant">Interpolations</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:s3_path_url</span>
  <span class="ruby-constant">Paperclip</span>.<span class="ruby-identifier">interpolates</span>(<span class="ruby-value">:s3_domain_url</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attachment</span>, <span class="ruby-identifier">style</span><span class="ruby-operator">|</span>
    <span class="ruby-node">&quot;#{attachment.s3_protocol(style, true)}//#{attachment.bucket_name}.#{attachment.s3_host_name}/#{attachment.path(style).gsub(%r{^/}, &quot;&quot;)}&quot;</span>
  <span class="ruby-keyword">end</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Paperclip</span><span class="ruby-operator">::</span><span class="ruby-constant">Interpolations</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:s3_domain_url</span>
  <span class="ruby-constant">Paperclip</span>.<span class="ruby-identifier">interpolates</span>(<span class="ruby-value">:asset_host</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attachment</span>, <span class="ruby-identifier">style</span><span class="ruby-operator">|</span>
    <span class="ruby-node">&quot;#{attachment.path(style).gsub(%r{^/}, &quot;&quot;)}&quot;</span>
  <span class="ruby-keyword">end</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Paperclip</span><span class="ruby-operator">::</span><span class="ruby-constant">Interpolations</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:asset_host</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- extended-source -->
          
        </div>

        

        
      </div><!-- extended-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-bucket_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bucket_name</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="bucket_name-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 198</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bucket_name</span>
  <span class="ruby-ivar">@bucket</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:bucket</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">s3_credentials</span>[<span class="ruby-value">:bucket</span>]
  <span class="ruby-ivar">@bucket</span> = <span class="ruby-ivar">@bucket</span>.<span class="ruby-identifier">call</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@bucket</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>)
  <span class="ruby-ivar">@bucket</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;missing required :bucket option&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- bucket_name-source -->
          
        </div>

        

        
      </div><!-- bucket_name-method -->

    
      <div id="method-i-copy_to_local_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">copy_to_local_file</span><span
            class="method-args">(style, local_dest_path)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="copy_to_local_file-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 337</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">copy_to_local_file</span>(<span class="ruby-identifier">style</span>, <span class="ruby-identifier">local_dest_path</span>)
  <span class="ruby-identifier">log</span>(<span class="ruby-node">&quot;copying #{path(style)} to local file #{local_dest_path}&quot;</span>)
  <span class="ruby-identifier">local_file</span> = <span class="ruby-operator">::</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">local_dest_path</span>, <span class="ruby-string">'wb'</span>)
  <span class="ruby-identifier">file</span> = <span class="ruby-identifier">s3_object</span>(<span class="ruby-identifier">style</span>)
  <span class="ruby-identifier">local_file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">file</span>.<span class="ruby-identifier">read</span>)
  <span class="ruby-identifier">local_file</span>.<span class="ruby-identifier">close</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">AWS</span><span class="ruby-operator">::</span><span class="ruby-constant">Errors</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">warn</span>(<span class="ruby-node">&quot;#{e} - cannot copy #{path(style)} to local file #{local_dest_path}&quot;</span>)
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- copy_to_local_file-source -->
          
        </div>

        

        
      </div><!-- copy_to_local_file-method -->

    
      <div id="method-i-create_bucket" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_bucket</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="create_bucket-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 295</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_bucket</span>
  <span class="ruby-identifier">s3_interface</span>.<span class="ruby-identifier">buckets</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">bucket_name</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- create_bucket-source -->
          
        </div>

        

        
      </div><!-- create_bucket-method -->

    
      <div id="method-i-exists-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">exists?</span><span
            class="method-args">(style = default_style)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="exists-3F-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 268</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">style</span> = <span class="ruby-identifier">default_style</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">original_filename</span>
    <span class="ruby-identifier">s3_object</span>(<span class="ruby-identifier">style</span>).<span class="ruby-identifier">exists?</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">AWS</span><span class="ruby-operator">::</span><span class="ruby-constant">Errors</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- exists-3F-source -->
          
        </div>

        

        
      </div><!-- exists-3F-method -->

    
      <div id="method-i-expiring_url" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">expiring_url</span><span
            class="method-args">(time = 3600, style_name = default_style)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="expiring_url-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 171</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">expiring_url</span>(<span class="ruby-identifier">time</span> = <span class="ruby-value">3600</span>, <span class="ruby-identifier">style_name</span> = <span class="ruby-identifier">default_style</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span>
    <span class="ruby-identifier">base_options</span> = { <span class="ruby-value">:expires</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">time</span>, <span class="ruby-value">:secure</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">use_secure_protocol?</span>(<span class="ruby-identifier">style_name</span>) }
    <span class="ruby-identifier">s3_object</span>(<span class="ruby-identifier">style_name</span>).<span class="ruby-identifier">url_for</span>(<span class="ruby-value">:read</span>, <span class="ruby-identifier">base_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">s3_url_options</span>)).<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- expiring_url-source -->
          
        </div>

        

        
      </div><!-- expiring_url-method -->

    
      <div id="method-i-http_proxy_host" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">http_proxy_host</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="http_proxy_host-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 240</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">http_proxy_host</span>
  <span class="ruby-identifier">using_http_proxy?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@http_proxy</span>[<span class="ruby-value">:host</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- http_proxy_host-source -->
          
        </div>

        

        
      </div><!-- http_proxy_host-method -->

    
      <div id="method-i-http_proxy_password" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">http_proxy_password</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="http_proxy_password-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 252</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">http_proxy_password</span>
  <span class="ruby-identifier">using_http_proxy?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@http_proxy</span>[<span class="ruby-value">:password</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- http_proxy_password-source -->
          
        </div>

        

        
      </div><!-- http_proxy_password-method -->

    
      <div id="method-i-http_proxy_port" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">http_proxy_port</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="http_proxy_port-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 244</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">http_proxy_port</span>
  <span class="ruby-identifier">using_http_proxy?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@http_proxy</span>[<span class="ruby-value">:port</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- http_proxy_port-source -->
          
        </div>

        

        
      </div><!-- http_proxy_port-method -->

    
      <div id="method-i-http_proxy_user" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">http_proxy_user</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="http_proxy_user-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 248</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">http_proxy_user</span>
  <span class="ruby-identifier">using_http_proxy?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@http_proxy</span>[<span class="ruby-value">:user</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- http_proxy_user-source -->
          
        </div>

        

        
      </div><!-- http_proxy_user-method -->

    
      <div id="method-i-parse_credentials" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parse_credentials</span><span
            class="method-args">(creds)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="parse_credentials-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 261</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse_credentials</span> <span class="ruby-identifier">creds</span>
  <span class="ruby-identifier">creds</span> = <span class="ruby-identifier">creds</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-string">'call'</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">creds</span>.<span class="ruby-identifier">call</span>(<span class="ruby-keyword">self</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">creds</span>
  <span class="ruby-identifier">creds</span> = <span class="ruby-identifier">find_credentials</span>(<span class="ruby-identifier">creds</span>).<span class="ruby-identifier">stringify_keys</span>
  <span class="ruby-identifier">env</span> = <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:Rails</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">env</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  (<span class="ruby-identifier">creds</span>[<span class="ruby-identifier">env</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">creds</span>).<span class="ruby-identifier">symbolize_keys</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- parse_credentials-source -->
          
        </div>

        

        
      </div><!-- parse_credentials-method -->

    
      <div id="method-i-s3_bucket" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">s3_bucket</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="s3_bucket-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 228</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">s3_bucket</span>
  <span class="ruby-ivar">@s3_bucket</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">s3_interface</span>.<span class="ruby-identifier">buckets</span>[<span class="ruby-identifier">bucket_name</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- s3_bucket-source -->
          
        </div>

        

        
      </div><!-- s3_bucket-method -->

    
      <div id="method-i-s3_credentials" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">s3_credentials</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="s3_credentials-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 178</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">s3_credentials</span>
  <span class="ruby-ivar">@s3_credentials</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">parse_credentials</span>(<span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_credentials</span>])
<span class="ruby-keyword">end</span></pre>
          </div><!-- s3_credentials-source -->
          
        </div>

        

        
      </div><!-- s3_credentials-method -->

    
      <div id="method-i-s3_host_alias" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">s3_host_alias</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="s3_host_alias-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 186</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">s3_host_alias</span>
  <span class="ruby-ivar">@s3_host_alias</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_host_alias</span>]
  <span class="ruby-ivar">@s3_host_alias</span> = <span class="ruby-ivar">@s3_host_alias</span>.<span class="ruby-identifier">call</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@s3_host_alias</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>)
  <span class="ruby-ivar">@s3_host_alias</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- s3_host_alias-source -->
          
        </div>

        

        
      </div><!-- s3_host_alias-method -->

    
      <div id="method-i-s3_host_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">s3_host_name</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="s3_host_name-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 182</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">s3_host_name</span>
  <span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_host_name</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">s3_credentials</span>[<span class="ruby-value">:s3_host_name</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;s3.amazonaws.com&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- s3_host_name-source -->
          
        </div>

        

        
      </div><!-- s3_host_name-method -->

    
      <div id="method-i-s3_interface" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">s3_interface</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="s3_interface-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 204</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">s3_interface</span>
  <span class="ruby-ivar">@s3_interface</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">config</span> = { <span class="ruby-value">:s3_endpoint</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">s3_host_name</span> }

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">using_http_proxy?</span>

      <span class="ruby-identifier">proxy_opts</span> = { <span class="ruby-value">:host</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">http_proxy_host</span> }
      <span class="ruby-identifier">proxy_opts</span>[<span class="ruby-value">:port</span>] = <span class="ruby-identifier">http_proxy_port</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">http_proxy_port</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">http_proxy_user</span>
        <span class="ruby-identifier">userinfo</span> = <span class="ruby-identifier">http_proxy_user</span>.<span class="ruby-identifier">to_s</span>
        <span class="ruby-identifier">userinfo</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;:#{http_proxy_password}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">http_proxy_password</span>
        <span class="ruby-identifier">proxy_opts</span>[<span class="ruby-value">:userinfo</span>] = <span class="ruby-identifier">userinfo</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">config</span>[<span class="ruby-value">:proxy_uri</span>] = <span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">proxy_opts</span>)
    <span class="ruby-keyword">end</span>

    [<span class="ruby-value">:access_key_id</span>, <span class="ruby-value">:secret_access_key</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">opt</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">config</span>[<span class="ruby-identifier">opt</span>] = <span class="ruby-identifier">s3_credentials</span>[<span class="ruby-identifier">opt</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">s3_credentials</span>[<span class="ruby-identifier">opt</span>]
    <span class="ruby-keyword">end</span>

    <span class="ruby-constant">AWS</span><span class="ruby-operator">::</span><span class="ruby-constant">S3</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">config</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-ivar">@s3_options</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- s3_interface-source -->
          
        </div>

        

        
      </div><!-- s3_interface-method -->

    
      <div id="method-i-s3_object" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">s3_object</span><span
            class="method-args">(style_name = default_style)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="s3_object-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 232</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">s3_object</span> <span class="ruby-identifier">style_name</span> = <span class="ruby-identifier">default_style</span>
  <span class="ruby-identifier">s3_bucket</span>.<span class="ruby-identifier">objects</span>[<span class="ruby-identifier">path</span>(<span class="ruby-identifier">style_name</span>).<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">%r{^/}</span>,<span class="ruby-string">''</span>)]
<span class="ruby-keyword">end</span></pre>
          </div><!-- s3_object-source -->
          
        </div>

        

        
      </div><!-- s3_object-method -->

    
      <div id="method-i-s3_permissions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">s3_permissions</span><span
            class="method-args">(style = default_style)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="s3_permissions-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 278</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">s3_permissions</span>(<span class="ruby-identifier">style</span> = <span class="ruby-identifier">default_style</span>)
  <span class="ruby-identifier">s3_permissions</span> = <span class="ruby-ivar">@s3_permissions</span>[<span class="ruby-identifier">style</span>] <span class="ruby-operator">||</span> <span class="ruby-ivar">@s3_permissions</span>[<span class="ruby-value">:default</span>]
  <span class="ruby-identifier">s3_permissions</span> = <span class="ruby-identifier">s3_permissions</span>.<span class="ruby-identifier">call</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">style</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">s3_permissions</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>)
  <span class="ruby-identifier">s3_permissions</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- s3_permissions-source -->
          
        </div>

        

        
      </div><!-- s3_permissions-method -->

    
      <div id="method-i-s3_protocol" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">s3_protocol</span><span
            class="method-args">(style = default_style, with_colon = false)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="s3_protocol-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 284</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">s3_protocol</span>(<span class="ruby-identifier">style</span> = <span class="ruby-identifier">default_style</span>, <span class="ruby-identifier">with_colon</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">protocol</span> = <span class="ruby-ivar">@s3_protocol</span>
  <span class="ruby-identifier">protocol</span> = <span class="ruby-identifier">protocol</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">style</span>, <span class="ruby-keyword">self</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">protocol</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">with_colon</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">protocol</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-node">&quot;#{protocol}:&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">protocol</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- s3_protocol-source -->
          
        </div>

        

        
      </div><!-- s3_protocol-method -->

    
      <div id="method-i-s3_url_options" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">s3_url_options</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="s3_url_options-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 192</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">s3_url_options</span>
  <span class="ruby-identifier">s3_url_options</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:s3_url_options</span>] <span class="ruby-operator">||</span> {}
  <span class="ruby-identifier">s3_url_options</span> = <span class="ruby-identifier">s3_url_options</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">instance</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">s3_url_options</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>)
  <span class="ruby-identifier">s3_url_options</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- s3_url_options-source -->
          
        </div>

        

        
      </div><!-- s3_url_options-method -->

    
      <div id="method-i-sanitize_hash" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sanitize_hash</span><span
            class="method-args">(hash)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="sanitize_hash-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 110</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sanitize_hash</span>(<span class="ruby-identifier">hash</span>)
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;#{sanitize_value(key)}=&gt;#{sanitize_value(value)}&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">'UTF-8'</span>) }.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">','</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- sanitize_hash-source -->
          
        </div>

        

        
      </div><!-- sanitize_hash-method -->

    
      <div id="method-i-set_permissions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">set_permissions</span><span
            class="method-args">(permissions)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="set_permissions-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 256</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_permissions</span> <span class="ruby-identifier">permissions</span>
  <span class="ruby-identifier">permissions</span> = { <span class="ruby-value">:default</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">permissions</span> } <span class="ruby-keyword">unless</span> <span class="ruby-identifier">permissions</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:merge</span>)
  <span class="ruby-identifier">permissions</span>.<span class="ruby-identifier">merge</span> <span class="ruby-value">:default</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">permissions</span>[<span class="ruby-value">:default</span>] <span class="ruby-operator">||</span> <span class="ruby-value">:public_read</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- set_permissions-source -->
          
        </div>

        

        
      </div><!-- set_permissions-method -->

    
      <div id="method-i-summarize_hash" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">summarize_hash</span><span
            class="method-args">(hash)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="summarize_hash-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 104</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">summarize_hash</span>(<span class="ruby-identifier">hash</span>)
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;:#{key}=&gt;#{summarize_value(value)}&quot;</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">'UTF-8'</span>) }.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">','</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- summarize_hash-source -->
          
        </div>

        

        
      </div><!-- summarize_hash-method -->

    
      <div id="method-i-using_http_proxy-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">using_http_proxy?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="using_http_proxy-3F-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/storage/s3.rb, line 236</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">using_http_proxy?</span>
  <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-ivar">@http_proxy</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- using_http_proxy-3F-source -->
          
        </div>

        

        
      </div><!-- using_http_proxy-3F-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

