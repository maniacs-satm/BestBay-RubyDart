<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class Paperclip::Attachment - RDoc Documentation</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>vendor/plugins/paperclip/lib/paperclip/attachment.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link"><a href="../Object.html">Object</a>
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-default_options">::default_options</a>
    
    <li><a href="#method-c-new">::new</a>
    
    <li><a href="#method-i-assign">#assign</a>
    
    <li><a href="#method-i-clear">#clear</a>
    
    <li><a href="#method-i-content_type">#content_type</a>
    
    <li><a href="#method-i-created_at">#created_at</a>
    
    <li><a href="#method-i-destroy">#destroy</a>
    
    <li><a href="#method-i-dirty-3F">#dirty?</a>
    
    <li><a href="#method-i-errors">#errors</a>
    
    <li><a href="#method-i-file-3F">#file?</a>
    
    <li><a href="#method-i-fingerprint">#fingerprint</a>
    
    <li><a href="#method-i-hash_key">#hash_key</a>
    
    <li><a href="#method-i-instance_read">#instance_read</a>
    
    <li><a href="#method-i-instance_respond_to-3F">#instance_respond_to?</a>
    
    <li><a href="#method-i-instance_write">#instance_write</a>
    
    <li><a href="#method-i-original_filename">#original_filename</a>
    
    <li><a href="#method-i-path">#path</a>
    
    <li><a href="#method-i-present-3F">#present?</a>
    
    <li><a href="#method-i-processors">#processors</a>
    
    <li><a href="#method-i-reprocess-21">#reprocess!</a>
    
    <li><a href="#method-i-save">#save</a>
    
    <li><a href="#method-i-size">#size</a>
    
    <li><a href="#method-i-styles">#styles</a>
    
    <li><a href="#method-i-time_zone">#time_zone</a>
    
    <li><a href="#method-i-to_s">#to_s</a>
    
    <li><a href="#method-i-updated_at">#updated_at</a>
    
    <li><a href="#method-i-uploaded_file">#uploaded_file</a>
    
    <li><a href="#method-i-url">#url</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../public/robots_txt.html">robots</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/Appraisals.html">Appraisals</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/NEWS.html">NEWS</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/UPGRADING.html">UPGRADING</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/features/support/fixtures/boot_config_txt.html">boot_config</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/features/support/fixtures/gemfile_txt.html">gemfile</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/features/support/fixtures/preinitializer_txt.html">preinitializer</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/lib/generators/paperclip/USAGE.html">USAGE</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/test/fixtures/text_txt.html">text</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../Paperclip.html">Paperclip</a>
  
    <li><a href="../Paperclip/AbstractAdapter.html">Paperclip::AbstractAdapter</a>
  
    <li><a href="../Paperclip/AdapterRegistry.html">Paperclip::AdapterRegistry</a>
  
    <li><a href="../Paperclip/AdapterRegistry/NoHandlerError.html">Paperclip::AdapterRegistry::NoHandlerError</a>
  
    <li><a href="../Paperclip/Attachment.html">Paperclip::Attachment</a>
  
    <li><a href="../Paperclip/AttachmentAdapter.html">Paperclip::AttachmentAdapter</a>
  
    <li><a href="../Paperclip/AttachmentOptions.html">Paperclip::AttachmentOptions</a>
  
    <li><a href="../Paperclip/Callbacks.html">Paperclip::Callbacks</a>
  
    <li><a href="../Paperclip/Callbacks/Defining.html">Paperclip::Callbacks::Defining</a>
  
    <li><a href="../Paperclip/Callbacks/Running.html">Paperclip::Callbacks::Running</a>
  
    <li><a href="../Paperclip/ClassMethods.html">Paperclip::ClassMethods</a>
  
    <li><a href="../Paperclip/ContentTypeDetector.html">Paperclip::ContentTypeDetector</a>
  
    <li><a href="../Paperclip/Error.html">Paperclip::Error</a>
  
    <li><a href="../Paperclip/Errors.html">Paperclip::Errors</a>
  
    <li><a href="../Paperclip/Errors/CommandNotFoundError.html">Paperclip::Errors::CommandNotFoundError</a>
  
    <li><a href="../Paperclip/Errors/InfiniteInterpolationError.html">Paperclip::Errors::InfiniteInterpolationError</a>
  
    <li><a href="../Paperclip/Errors/NotIdentifiedByImageMagickError.html">Paperclip::Errors::NotIdentifiedByImageMagickError</a>
  
    <li><a href="../Paperclip/Errors/StorageMethodNotFound.html">Paperclip::Errors::StorageMethodNotFound</a>
  
    <li><a href="../Paperclip/FileAdapter.html">Paperclip::FileAdapter</a>
  
    <li><a href="../Paperclip/Geometry.html">Paperclip::Geometry</a>
  
    <li><a href="../Paperclip/Glue.html">Paperclip::Glue</a>
  
    <li><a href="../Paperclip/Helpers.html">Paperclip::Helpers</a>
  
    <li><a href="../Paperclip/IdentityAdapter.html">Paperclip::IdentityAdapter</a>
  
    <li><a href="../Paperclip/Interpolations.html">Paperclip::Interpolations</a>
  
    <li><a href="../Paperclip/Logger.html">Paperclip::Logger</a>
  
    <li><a href="../Paperclip/NilAdapter.html">Paperclip::NilAdapter</a>
  
    <li><a href="../Paperclip/Processor.html">Paperclip::Processor</a>
  
    <li><a href="../Paperclip/ProcessorHelpers.html">Paperclip::ProcessorHelpers</a>
  
    <li><a href="../Paperclip/Railtie.html">Paperclip::Railtie</a>
  
    <li><a href="../Paperclip/Schema.html">Paperclip::Schema</a>
  
    <li><a href="../Paperclip/Schema/CommandRecorder.html">Paperclip::Schema::CommandRecorder</a>
  
    <li><a href="../Paperclip/Schema/Statements.html">Paperclip::Schema::Statements</a>
  
    <li><a href="../Paperclip/Schema/TableDefinition.html">Paperclip::Schema::TableDefinition</a>
  
    <li><a href="../Paperclip/Shoulda.html">Paperclip::Shoulda</a>
  
    <li><a href="../Paperclip/Shoulda/Matchers.html">Paperclip::Shoulda::Matchers</a>
  
    <li><a href="../Paperclip/Shoulda/Matchers/HaveAttachedFileMatcher.html">Paperclip::Shoulda::Matchers::HaveAttachedFileMatcher</a>
  
    <li><a href="../Paperclip/Shoulda/Matchers/ValidateAttachmentContentTypeMatcher.html">Paperclip::Shoulda::Matchers::ValidateAttachmentContentTypeMatcher</a>
  
    <li><a href="../Paperclip/Shoulda/Matchers/ValidateAttachmentPresenceMatcher.html">Paperclip::Shoulda::Matchers::ValidateAttachmentPresenceMatcher</a>
  
    <li><a href="../Paperclip/Shoulda/Matchers/ValidateAttachmentSizeMatcher.html">Paperclip::Shoulda::Matchers::ValidateAttachmentSizeMatcher</a>
  
    <li><a href="../Paperclip/Storage.html">Paperclip::Storage</a>
  
    <li><a href="../Paperclip/Storage/Filesystem.html">Paperclip::Storage::Filesystem</a>
  
    <li><a href="../Paperclip/Storage/Fog.html">Paperclip::Storage::Fog</a>
  
    <li><a href="../Paperclip/Storage/S3.html">Paperclip::Storage::S3</a>
  
    <li><a href="../Paperclip/StringioAdapter.html">Paperclip::StringioAdapter</a>
  
    <li><a href="../Paperclip/Style.html">Paperclip::Style</a>
  
    <li><a href="../Paperclip/Tempfile.html">Paperclip::Tempfile</a>
  
    <li><a href="../Paperclip/TempfileEncoding.html">Paperclip::TempfileEncoding</a>
  
    <li><a href="../Paperclip/TempfileFactory.html">Paperclip::TempfileFactory</a>
  
    <li><a href="../Paperclip/TempfileFactoryTest.html">Paperclip::TempfileFactoryTest</a>
  
    <li><a href="../Paperclip/Thumbnail.html">Paperclip::Thumbnail</a>
  
    <li><a href="../Paperclip/UploadedFileAdapter.html">Paperclip::UploadedFileAdapter</a>
  
    <li><a href="../Paperclip/UriAdapter.html">Paperclip::UriAdapter</a>
  
    <li><a href="../Paperclip/UrlGenerator.html">Paperclip::UrlGenerator</a>
  
    <li><a href="../Paperclip/Validators.html">Paperclip::Validators</a>
  
    <li><a href="../Paperclip/Validators/AttachmentContentTypeValidator.html">Paperclip::Validators::AttachmentContentTypeValidator</a>
  
    <li><a href="../Paperclip/Validators/AttachmentPresenceValidator.html">Paperclip::Validators::AttachmentPresenceValidator</a>
  
    <li><a href="../Paperclip/Validators/AttachmentSizeValidator.html">Paperclip::Validators::AttachmentSizeValidator</a>
  
    <li><a href="../Paperclip/Validators/ClassMethods.html">Paperclip::Validators::ClassMethods</a>
  
    <li><a href="../Paperclip/Validators/HelperMethods.html">Paperclip::Validators::HelperMethods</a>
  
    <li><a href="../AttachmentTest.html">AttachmentTest</a>
  
    <li><a href="../AttachmentTest/AttachmentTest.html">AttachmentTest::AttachmentTest</a>
  
    <li><a href="../AttachmentTest/AttachmentTest/Paperclip.html">AttachmentTest::AttachmentTest::Paperclip</a>
  
    <li><a href="../AttachmentTest/AttachmentTest/Paperclip/Test.html">AttachmentTest::AttachmentTest::Paperclip::Test</a>
  
    <li><a href="../Test.html">Test</a>
  
    <li><a href="../Test/Unit.html">Test::Unit</a>
  
    <li><a href="../Test/Unit/TestCase.html">Test::Unit::TestCase</a>
  
    <li><a href="../AbstractAdapterTest.html">AbstractAdapterTest</a>
  
    <li><a href="../AbstractAdapterTest/TestAdapter.html">AbstractAdapterTest::TestAdapter</a>
  
    <li><a href="../ActionController.html">ActionController</a>
  
    <li><a href="../ActionController/Integration.html">ActionController::Integration</a>
  
    <li><a href="../AdapterRegistryTest.html">AdapterRegistryTest</a>
  
    <li><a href="../AdapterRegistryTest/AdapterTest.html">AdapterRegistryTest::AdapterTest</a>
  
    <li><a href="../BestBay.html">BestBay</a>
  
    <li><a href="../BestBay/Application.html">BestBay::Application</a>
  
    <li><a href="../FactoryGirl.html">FactoryGirl</a>
  
    <li><a href="../FactoryGirl/Factory.html">FactoryGirl::Factory</a>
  
    <li><a href="../FakeWeb.html">FakeWeb</a>
  
    <li><a href="../FakeWeb/StubSocket.html">FakeWeb::StubSocket</a>
  
    <li><a href="../One.html">One</a>
  
    <li><a href="../One/Two.html">One::Two</a>
  
    <li><a href="../PaperclipTest.html">PaperclipTest</a>
  
    <li><a href="../PaperclipTest/Dummy2.html">PaperclipTest::Dummy2</a>
  
    <li><a href="../UploadedFileAdapterTest.html">UploadedFileAdapterTest</a>
  
    <li><a href="../UploadedFileAdapterTest/UploadedFile.html">UploadedFileAdapterTest::UploadedFile</a>
  
    <li><a href="../AddImageToProducts.html">AddImageToProducts</a>
  
    <li><a href="../AddPasswordDigestToUsers.html">AddPasswordDigestToUsers</a>
  
    <li><a href="../AddRememberTokenToUsers.html">AddRememberTokenToUsers</a>
  
    <li><a href="../AddSellingProductsToUsers.html">AddSellingProductsToUsers</a>
  
    <li><a href="../AddUserIdProductIdToBid.html">AddUserIdProductIdToBid</a>
  
    <li><a href="../AddUserNameToProducts.html">AddUserNameToProducts</a>
  
    <li><a href="../ApplicationController.html">ApplicationController</a>
  
    <li><a href="../ApplicationHelper.html">ApplicationHelper</a>
  
    <li><a href="../AttachmentAdapterTest.html">AttachmentAdapterTest</a>
  
    <li><a href="../AttachmentContentTypeValidatorTest.html">AttachmentContentTypeValidatorTest</a>
  
    <li><a href="../AttachmentHelpers.html">AttachmentHelpers</a>
  
    <li><a href="../AttachmentOptionsTest.html">AttachmentOptionsTest</a>
  
    <li><a href="../AttachmentPresenceValidatorTest.html">AttachmentPresenceValidatorTest</a>
  
    <li><a href="../AttachmentSizeValidatorTest.html">AttachmentSizeValidatorTest</a>
  
    <li><a href="../Bid.html">Bid</a>
  
    <li><a href="../Book.html">Book</a>
  
    <li><a href="../ContentTypeDetectorTest.html">ContentTypeDetectorTest</a>
  
    <li><a href="../CreateBids.html">CreateBids</a>
  
    <li><a href="../CreateProducts.html">CreateProducts</a>
  
    <li><a href="../CreateUsers.html">CreateUsers</a>
  
    <li><a href="../Dummy.html">Dummy</a>
  
    <li><a href="../Factory.html">Factory</a>
  
    <li><a href="../FakeModel.html">FakeModel</a>
  
    <li><a href="../FileAdapterTest.html">FileAdapterTest</a>
  
    <li><a href="../FileHelpers.html">FileHelpers</a>
  
    <li><a href="../FileSystemTest.html">FileSystemTest</a>
  
    <li><a href="../FixColumNameOfProductUserId.html">FixColumNameOfProductUserId</a>
  
    <li><a href="../FogTest.html">FogTest</a>
  
    <li><a href="../Four.html">Four</a>
  
    <li><a href="../GeneratorTest.html">GeneratorTest</a>
  
    <li><a href="../GeometryTest.html">GeometryTest</a>
  
    <li><a href="../HaveAttachedFileMatcherTest.html">HaveAttachedFileMatcherTest</a>
  
    <li><a href="../HtmlSelectorsHelpers.html">HtmlSelectorsHelpers</a>
  
    <li><a href="../IdentityAdapterTest.html">IdentityAdapterTest</a>
  
    <li><a href="../IntegrationTest.html">IntegrationTest</a>
  
    <li><a href="../InterpolationsTest.html">InterpolationsTest</a>
  
    <li><a href="../MetaClassTest.html">MetaClassTest</a>
  
    <li><a href="../MockAttachment.html">MockAttachment</a>
  
    <li><a href="../MockInterpolator.html">MockInterpolator</a>
  
    <li><a href="../MockModel.html">MockModel</a>
  
    <li><a href="../MockUrlGeneratorBuilder.html">MockUrlGeneratorBuilder</a>
  
    <li><a href="../NavigationHelpers.html">NavigationHelpers</a>
  
    <li><a href="../NilAdapterTest.html">NilAdapterTest</a>
  
    <li><a href="../Object.html">Object</a>
  
    <li><a href="../PaperclipGenerator.html">PaperclipGenerator</a>
  
    <li><a href="../PaperclipMissingAttachmentStylesTest.html">PaperclipMissingAttachmentStylesTest</a>
  
    <li><a href="../ProcessorTest.html">ProcessorTest</a>
  
    <li><a href="../Product.html">Product</a>
  
    <li><a href="../ProductsController.html">ProductsController</a>
  
    <li><a href="../ProductsHelper.html">ProductsHelper</a>
  
    <li><a href="../RailsCommandHelpers.html">RailsCommandHelpers</a>
  
    <li><a href="../S3LiveTest.html">S3LiveTest</a>
  
    <li><a href="../S3Test.html">S3Test</a>
  
    <li><a href="../SchemaTest.html">SchemaTest</a>
  
    <li><a href="../SessionsController.html">SessionsController</a>
  
    <li><a href="../SessionsHelper.html">SessionsHelper</a>
  
    <li><a href="../StaticPagesController.html">StaticPagesController</a>
  
    <li><a href="../StringioFileProxyTest.html">StringioFileProxyTest</a>
  
    <li><a href="../StyleTest.html">StyleTest</a>
  
    <li><a href="../SubDummy.html">SubDummy</a>
  
    <li><a href="../Three.html">Three</a>
  
    <li><a href="../ThumbnailTest.html">ThumbnailTest</a>
  
    <li><a href="../UriProxyTest.html">UriProxyTest</a>
  
    <li><a href="../UrlGeneratorTest.html">UrlGeneratorTest</a>
  
    <li><a href="../User.html">User</a>
  
    <li><a href="../UsersController.html">UsersController</a>
  
    <li><a href="../UsersHelper.html">UsersHelper</a>
  
    <li><a href="../ValidateAttachmentContentTypeMatcherTest.html">ValidateAttachmentContentTypeMatcherTest</a>
  
    <li><a href="../ValidateAttachmentPresenceMatcherTest.html">ValidateAttachmentPresenceMatcherTest</a>
  
    <li><a href="../ValidateAttachmentSizeMatcherTest.html">ValidateAttachmentSizeMatcherTest</a>
  
    <li><a href="../ValidatorsTest.html">ValidatorsTest</a>
  
    <li><a href="../WelcomeHelper.html">WelcomeHelper</a>
  
    <li><a href="../WithinHelpers.html">WithinHelpers</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Paperclip::Attachment</h1>

  <div id="description" class="description">
    
<p>The <a href="Attachment.html">Attachment</a> class manages the files for a
given attachment. It saves when the model saves, deletes when the model is
destroyed, and processes the file upon assignment.</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-i-convert_options" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">convert_options</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-default_style" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">default_style</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-instance" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">instance</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-interpolator" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">interpolator</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-name" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">name</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-options" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">options</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-post_processing" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">post_processing</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-queued_for_write" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">queued_for_write</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-source_file_options" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">source_file_options</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-whiny" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">whiny</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-default_options" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">default_options</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="default_options-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 9</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_options</span>
  <span class="ruby-ivar">@default_options</span> <span class="ruby-operator">||=</span> {
    <span class="ruby-value">:convert_options</span>       =<span class="ruby-operator">&gt;</span> {},
    <span class="ruby-value">:default_style</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:original</span>,
    <span class="ruby-value">:default_url</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;/:attachment/:style/missing.png&quot;</span>,
    <span class="ruby-value">:restricted_characters</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%r[&amp;$+,\/:;=?@&lt;&gt;\[\]\{\}\|\\\^~%# ]/</span>,
    <span class="ruby-value">:hash_data</span>             =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;:class/:attachment/:id/:style/:updated_at&quot;</span>,
    <span class="ruby-value">:hash_digest</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;SHA1&quot;</span>,
    <span class="ruby-value">:interpolator</span>          =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Paperclip</span><span class="ruby-operator">::</span><span class="ruby-constant">Interpolations</span>,
    <span class="ruby-value">:only_process</span>          =<span class="ruby-operator">&gt;</span> [],
    <span class="ruby-value">:path</span>                  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;:rails_root/public:url&quot;</span>,
    <span class="ruby-value">:preserve_files</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
    <span class="ruby-value">:processors</span>            =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:thumbnail</span>],
    <span class="ruby-value">:source_file_options</span>   =<span class="ruby-operator">&gt;</span> {},
    <span class="ruby-value">:storage</span>               =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:filesystem</span>,
    <span class="ruby-value">:styles</span>                =<span class="ruby-operator">&gt;</span> {},
    <span class="ruby-value">:url</span>                   =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;/system/:class/:attachment/:id_partition/:style/:filename&quot;</span>,
    <span class="ruby-value">:url_generator</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Paperclip</span><span class="ruby-operator">::</span><span class="ruby-constant">UrlGenerator</span>,
    <span class="ruby-value">:use_default_time_zone</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
    <span class="ruby-value">:use_timestamp</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
    <span class="ruby-value">:whiny</span>                 =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Paperclip</span>.<span class="ruby-identifier">options</span>[<span class="ruby-value">:whiny</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">Paperclip</span>.<span class="ruby-identifier">options</span>[<span class="ruby-value">:whiny_thumbnails</span>]
  }
<span class="ruby-keyword">end</span></pre>
          </div><!-- default_options-source -->
          
        </div>

        

        
      </div><!-- default_options-method -->

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(name, instance, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Creates an <a href="Attachment.html">Attachment</a> object.
<code>name</code> is the name of the attachment, <code>instance</code> is
the ActiveRecord object instance it’s attached to, and <code>options</code>
is the same as the hash passed to <code>has_attached_file</code>.</p>

<p>Options include:</p>

<p><code>url</code> - a relative URL of the attachment. This is interpolated
using <code>interpolator</code> <code>path</code> - where on the filesystem
to store the attachment. This is interpolated using
<code>interpolator</code> <code>styles</code> - a hash of options for
processing the attachment. See <code>has_attached_file</code> for the
details <code>only_process</code> - style args to be run through the
post-processor. This defaults to the empty list <code>default_url</code> -
a URL for the missing image <code>default_style</code> - the style to use
when don't specify an argument to e.g. <a
href="Attachment.html#method-i-url">url</a>, <a
href="Attachment.html#method-i-path">path</a> <code>storage</code> - the
storage mechanism. Defaults to :filesystem <code>use_timestamp</code> -
whether to append an anti-caching timestamp to image URLs. Defaults to true
<code>whiny</code>, <code>whiny_thumbnails</code> - whether to raise when
thumbnailing fails <code>use_default_time_zone</code> - related to
<code>use_timestamp</code>. Defaults to true <code>hash_digest</code> - a
string representing a class that will be used to hash URLs for obfuscation
<code>hash_data</code> - the relative URL for the hash data. This is
interpolated using <code>interpolator</code> <code>hash_secret</code> - a
secret passed to the <code>hash_digest</code> <code>convert_options</code>
- flags passed to the <code>convert</code> command for processing
<code>source_file_options</code> - flags passed to the <code>convert</code>
command that controls how the file is read <code>processors</code> -
classes that transform the attachment. Defaults to [:thumbnail]
<code>preserve_files</code> - whether to keep files on the filesystem when
deleting to clearing the attachment. Defaults to false
<code>interpolator</code> - the object used to interpolate filenames and
URLs. Defaults to <a
href="Interpolations.html">Paperclip::Interpolations</a>
<code>url_generator</code> - the object used to generate URLs, using the
interpolator. Defaults to <a
href="UrlGenerator.html">Paperclip::UrlGenerator</a></p>
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 62</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">instance</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-ivar">@name</span>              = <span class="ruby-identifier">name</span>
  <span class="ruby-ivar">@instance</span>          = <span class="ruby-identifier">instance</span>

  <span class="ruby-identifier">options</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">default_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)

  <span class="ruby-ivar">@options</span>               = <span class="ruby-identifier">options</span>
  <span class="ruby-ivar">@post_processing</span>       = <span class="ruby-keyword">true</span>
  <span class="ruby-ivar">@queued_for_delete</span>     = []
  <span class="ruby-ivar">@queued_for_write</span>      = {}
  <span class="ruby-ivar">@errors</span>                = {}
  <span class="ruby-ivar">@dirty</span>                 = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@interpolator</span>          = <span class="ruby-identifier">options</span>[<span class="ruby-value">:interpolator</span>]
  <span class="ruby-ivar">@url_generator</span>         = <span class="ruby-identifier">options</span>[<span class="ruby-value">:url_generator</span>].<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-ivar">@options</span>)
  <span class="ruby-ivar">@source_file_options</span>   = <span class="ruby-identifier">options</span>[<span class="ruby-value">:source_file_options</span>]
  <span class="ruby-ivar">@whiny</span>                 = <span class="ruby-identifier">options</span>[<span class="ruby-value">:whiny</span>]

  <span class="ruby-identifier">initialize_storage</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-assign" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assign</span><span
            class="method-args">(uploaded_file)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>What gets called when you call instance.attachment = File. It clears
errors, assigns attributes, and processes the file. It also queues up the
previous file for deletion, to be flushed away on <a
href="Attachment.html#method-i-save">save</a> of its host.  In addition to
form uploads, you can also assign another <a
href="../Paperclip.html">Paperclip</a> attachment:</p>

<pre>new_user.avatar = old_user.avatar</pre>
          

          
          <div class="method-source-code" id="assign-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 88</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assign</span> <span class="ruby-identifier">uploaded_file</span>
  <span class="ruby-identifier">ensure_required_accessors!</span>
  <span class="ruby-identifier">file</span> = <span class="ruby-constant">Paperclip</span>.<span class="ruby-identifier">io_adapters</span>.<span class="ruby-identifier">for</span>(<span class="ruby-identifier">uploaded_file</span>)

  <span class="ruby-ivar">@options</span>[<span class="ruby-value">:only_process</span>].<span class="ruby-identifier">map!</span>(&amp;<span class="ruby-value">:to_sym</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">clear</span>(*<span class="ruby-ivar">@options</span>[<span class="ruby-value">:only_process</span>])
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">nil?</span>

  <span class="ruby-ivar">@queued_for_write</span>[<span class="ruby-value">:original</span>]   = <span class="ruby-identifier">file</span>
  <span class="ruby-identifier">instance_write</span>(<span class="ruby-value">:file_name</span>,       <span class="ruby-identifier">cleanup_filename</span>(<span class="ruby-identifier">file</span>.<span class="ruby-identifier">original_filename</span>))
  <span class="ruby-identifier">instance_write</span>(<span class="ruby-value">:content_type</span>,    <span class="ruby-identifier">file</span>.<span class="ruby-identifier">content_type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>)
  <span class="ruby-identifier">instance_write</span>(<span class="ruby-value">:file_size</span>,       <span class="ruby-identifier">file</span>.<span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">instance_write</span>(<span class="ruby-value">:fingerprint</span>,     <span class="ruby-identifier">file</span>.<span class="ruby-identifier">fingerprint</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">instance_respond_to?</span>(<span class="ruby-value">:fingerprint</span>)
  <span class="ruby-identifier">instance_write</span>(<span class="ruby-value">:created_at</span>,      <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">has_enabled_but_unset_created_at?</span>
  <span class="ruby-identifier">instance_write</span>(<span class="ruby-value">:updated_at</span>,      <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>)

  <span class="ruby-ivar">@dirty</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">post_process</span>(*<span class="ruby-ivar">@options</span>[<span class="ruby-value">:only_process</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">post_processing</span>

  <span class="ruby-comment"># Reset the file size if the original file was reprocessed.</span>
  <span class="ruby-identifier">instance_write</span>(<span class="ruby-value">:file_size</span>,   <span class="ruby-ivar">@queued_for_write</span>[<span class="ruby-value">:original</span>].<span class="ruby-identifier">size</span>)
  <span class="ruby-identifier">instance_write</span>(<span class="ruby-value">:fingerprint</span>, <span class="ruby-ivar">@queued_for_write</span>[<span class="ruby-value">:original</span>].<span class="ruby-identifier">fingerprint</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">instance_respond_to?</span>(<span class="ruby-value">:fingerprint</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- assign-source -->
          
        </div>

        

        
      </div><!-- assign-method -->

    
      <div id="method-i-clear" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">clear</span><span
            class="method-args">(*styles_to_clear)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Clears out the attachment. Has the same effect as previously assigning nil
to the attachment. Does NOT save. If you wish to clear AND save, use <a
href="Attachment.html#method-i-destroy">destroy</a>.</p>
          

          
          <div class="method-source-code" id="clear-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 208</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">clear</span>(*<span class="ruby-identifier">styles_to_clear</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">styles_to_clear</span>.<span class="ruby-identifier">any?</span>
    <span class="ruby-identifier">queue_some_for_delete</span>(*<span class="ruby-identifier">styles_to_clear</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">queue_all_for_delete</span>
    <span class="ruby-ivar">@queued_for_write</span>  = {}
    <span class="ruby-ivar">@errors</span>            = {}
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- clear-source -->
          
        </div>

        

        
      </div><!-- clear-method -->

    
      <div id="method-i-content_type" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content_type</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns the <a
href="Attachment.html#method-i-content_type">#content_type</a> of the file
as originally assigned, and lives in the &lt;attachment&gt;_content_type
attribute of the model.</p>
          

          
          <div class="method-source-code" id="content_type-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 253</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">instance_read</span>(<span class="ruby-value">:content_type</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- content_type-source -->
          
        </div>

        

        
      </div><!-- content_type-method -->

    
      <div id="method-i-created_at" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">created_at</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns the creation time of the file as originally assigned, and lives in
the &lt;attachment&gt;_created_at attribute of the model.</p>
          

          
          <div class="method-source-code" id="created_at-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 259</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">created_at</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">able_to_store_created_at?</span>
    <span class="ruby-identifier">time</span> = <span class="ruby-identifier">instance_read</span>(<span class="ruby-value">:created_at</span>)
    <span class="ruby-identifier">time</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">time</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">to_i</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- created_at-source -->
          
        </div>

        

        
      </div><!-- created_at-method -->

    
      <div id="method-i-destroy" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">destroy</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Destroys the attachment. Has the same effect as previously assigning nil to
the attachment *and saving*. This is permanent. If you wish to wipe out the
existing attachment but not save, use <a
href="Attachment.html#method-i-clear">clear</a>.</p>
          

          
          <div class="method-source-code" id="destroy-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 221</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">destroy</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:preserve_files</span>]
    <span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">save</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- destroy-source -->
          
        </div>

        

        
      </div><!-- destroy-method -->

    
      <div id="method-i-dirty-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dirty?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns true if there are changes that need to be saved.</p>
          

          
          <div class="method-source-code" id="dirty-3F-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 192</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dirty?</span>
  <span class="ruby-ivar">@dirty</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- dirty-3F-source -->
          
        </div>

        

        
      </div><!-- dirty-3F-method -->

    
      <div id="method-i-errors" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">errors</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns an array containing the errors on this attachment.</p>
          

          
          <div class="method-source-code" id="errors-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 187</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">errors</span>
  <span class="ruby-ivar">@errors</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- errors-source -->
          
        </div>

        

        
      </div><!-- errors-method -->

    
      <div id="method-i-file-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">file?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns true if a file has been assigned.</p>
          

          
          <div class="method-source-code" id="file-3F-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 307</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">file?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">original_filename</span>.<span class="ruby-identifier">blank?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- file-3F-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Attachment.html#method-i-present-3F">present?</a>
        </div>
        

        
      </div><!-- file-3F-method -->

    
      <div id="method-i-fingerprint" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">fingerprint</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns the fingerprint of the file, if one’s defined. The fingerprint is
stored in the &lt;attachment&gt;_fingerpring attribute of the model.</p>
          

          
          <div class="method-source-code" id="fingerprint-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 247</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fingerprint</span>
  <span class="ruby-identifier">instance_read</span>(<span class="ruby-value">:fingerprint</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- fingerprint-source -->
          
        </div>

        

        
      </div><!-- fingerprint-method -->

    
      <div id="method-i-hash_key" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hash_key</span><span
            class="method-args">(style_name = default_style)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns a unique hash suitable for obfuscating the URL of an otherwise
publicly viewable attachment.</p>
          

          
          <div class="method-source-code" id="hash_key-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 281</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hash_key</span>(<span class="ruby-identifier">style_name</span> = <span class="ruby-identifier">default_style</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;Unable to generate hash without :hash_secret&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:hash_secret</span>]
  <span class="ruby-identifier">require</span> <span class="ruby-string">'openssl'</span> <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">OpenSSL</span>)
  <span class="ruby-identifier">data</span> = <span class="ruby-identifier">interpolate</span>(<span class="ruby-ivar">@options</span>[<span class="ruby-value">:hash_data</span>], <span class="ruby-identifier">style_name</span>)
  <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">HMAC</span>.<span class="ruby-identifier">hexdigest</span>(<span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">Digest</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-ivar">@options</span>[<span class="ruby-value">:hash_digest</span>]).<span class="ruby-identifier">new</span>, <span class="ruby-ivar">@options</span>[<span class="ruby-value">:hash_secret</span>], <span class="ruby-identifier">data</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- hash_key-source -->
          
        </div>

        

        
      </div><!-- hash_key-method -->

    
      <div id="method-i-instance_read" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">instance_read</span><span
            class="method-args">(attr)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Reads the attachment-specific attribute on the instance. See <a
href="Attachment.html#method-i-instance_write">#instance_write</a> for more
details.</p>
          

          
          <div class="method-source-code" id="instance_read-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 331</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">instance_read</span>(<span class="ruby-identifier">attr</span>)
  <span class="ruby-identifier">getter</span> = <span class="ruby-value">:&quot;#{name}_#{attr}&quot;</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">instance</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">getter</span>)
    <span class="ruby-identifier">instance</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">getter</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- instance_read-source -->
          
        </div>

        

        
      </div><!-- instance_read-method -->

    
      <div id="method-i-instance_respond_to-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">instance_respond_to?</span><span
            class="method-args">(attr)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Determines whether the instance responds to this attribute. Used to prevent
calculations on fields we won’t even store.</p>
          

          
          <div class="method-source-code" id="instance_respond_to-3F-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 315</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">instance_respond_to?</span>(<span class="ruby-identifier">attr</span>)
  <span class="ruby-identifier">instance</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:&quot;#{name}_#{attr}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- instance_respond_to-3F-source -->
          
        </div>

        

        
      </div><!-- instance_respond_to-3F-method -->

    
      <div id="method-i-instance_write" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">instance_write</span><span
            class="method-args">(attr, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Writes the attachment-specific attribute on the instance. For example, <a
href="Attachment.html#method-i-instance_write">#instance_write</a>(:file_name,
“me.jpg”) will write “me.jpg” to the instance’s “avatar_file_name” field
(assuming the attachment is called avatar).</p>
          

          
          <div class="method-source-code" id="instance_write-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 322</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">instance_write</span>(<span class="ruby-identifier">attr</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">setter</span> = <span class="ruby-value">:&quot;#{name}_#{attr}=&quot;</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">instance</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">setter</span>)
    <span class="ruby-identifier">instance</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">setter</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- instance_write-source -->
          
        </div>

        

        
      </div><!-- instance_write-method -->

    
      <div id="method-i-original_filename" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">original_filename</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns the name of the file as originally assigned, and lives in the
&lt;attachment&gt;_file_name attribute of the model.</p>
          

          
          <div class="method-source-code" id="original_filename-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 235</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">original_filename</span>
  <span class="ruby-identifier">instance_read</span>(<span class="ruby-value">:file_name</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- original_filename-source -->
          
        </div>

        

        
      </div><!-- original_filename-method -->

    
      <div id="method-i-path" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">path</span><span
            class="method-args">(style_name = default_style)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns the path of the attachment as defined by the :path option. If the
file is stored in the filesystem the path refers to the path of the file on
disk. If the file is stored in S3, the path is the “key” part of the URL,
and the :bucket option refers to the S3 bucket.</p>
          

          
          <div class="method-source-code" id="path-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 149</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">path</span>(<span class="ruby-identifier">style_name</span> = <span class="ruby-identifier">default_style</span>)
  <span class="ruby-identifier">path</span> = <span class="ruby-identifier">original_filename</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">interpolate</span>(<span class="ruby-identifier">path_option</span>, <span class="ruby-identifier">style_name</span>)
  <span class="ruby-identifier">path</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:unescape</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">unescape</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">path</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- path-source -->
          
        </div>

        

        
      </div><!-- path-method -->

    
      <div id="method-i-present-3F" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">present?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Attachment.html#method-i-file-3F">file?</a>
        </div>
        
      </div><!-- present-3F-method -->

    
      <div id="method-i-processors" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">processors</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="processors-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 176</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">processors</span>
  <span class="ruby-identifier">processing_option</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:processors</span>]

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">processing_option</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>)
    <span class="ruby-identifier">processing_option</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">instance</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">processing_option</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- processors-source -->
          
        </div>

        

        
      </div><!-- processors-method -->

    
      <div id="method-i-reprocess-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reprocess!</span><span
            class="method-args">(*style_args)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This method really shouldn’t be called that often. It’s expected use is in
the paperclip:refresh rake task and that’s it. It will regenerate all
thumbnails forcefully, by reobtaining the original file and going through
the post-process again.</p>
          

          
          <div class="method-source-code" id="reprocess-21-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 292</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reprocess!</span>(*<span class="ruby-identifier">style_args</span>)
  <span class="ruby-identifier">saved_only_process</span>, <span class="ruby-ivar">@options</span>[<span class="ruby-value">:only_process</span>] = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:only_process</span>], <span class="ruby-identifier">style_args</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">assign</span>(<span class="ruby-keyword">self</span>)
    <span class="ruby-identifier">save</span>
    <span class="ruby-identifier">instance</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EACCES</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{e} - skipping file.&quot;</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-ivar">@options</span>[<span class="ruby-value">:only_process</span>] = <span class="ruby-identifier">saved_only_process</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- reprocess-21-source -->
          
        </div>

        

        
      </div><!-- reprocess-21-method -->

    
      <div id="method-i-save" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">save</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Saves the file, if there are no errors. If there are, it flushes them to
the instance’s errors and returns false, cancelling the save.</p>
          

          
          <div class="method-source-code" id="save-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 198</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">save</span>
  <span class="ruby-identifier">flush_deletes</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:keep_old_files</span>]
  <span class="ruby-identifier">flush_writes</span>
  <span class="ruby-ivar">@dirty</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- save-source -->
          
        </div>

        

        
      </div><!-- save-method -->

    
      <div id="method-i-size" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">size</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns the size of the file as originally assigned, and lives in the
&lt;attachment&gt;_file_size attribute of the model.</p>
          

          
          <div class="method-source-code" id="size-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 241</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">size</span>
  <span class="ruby-identifier">instance_read</span>(<span class="ruby-value">:file_size</span>) <span class="ruby-operator">||</span> (<span class="ruby-ivar">@queued_for_write</span>[<span class="ruby-value">:original</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@queued_for_write</span>[<span class="ruby-value">:original</span>].<span class="ruby-identifier">size</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- size-source -->
          
        </div>

        

        
      </div><!-- size-method -->

    
      <div id="method-i-styles" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">styles</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="styles-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 163</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">styles</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:styles</span>].<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>) <span class="ruby-operator">||</span> <span class="ruby-ivar">@normalized_styles</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">styles</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:styles</span>]
    <span class="ruby-identifier">styles</span> = <span class="ruby-identifier">styles</span>.<span class="ruby-identifier">call</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">styles</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>)

    <span class="ruby-ivar">@normalized_styles</span> = <span class="ruby-identifier">styles</span>.<span class="ruby-identifier">dup</span>
    <span class="ruby-ivar">@normalized_styles</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
      <span class="ruby-ivar">@normalized_styles</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>] = <span class="ruby-constant">Paperclip</span><span class="ruby-operator">::</span><span class="ruby-constant">Style</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>, <span class="ruby-keyword">self</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@normalized_styles</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- styles-source -->
          
        </div>

        

        
      </div><!-- styles-method -->

    
      <div id="method-i-time_zone" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">time_zone</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>The time zone to use for timestamp interpolation.  Using the default time
zone ensures that results are consistent across all threads.</p>
          

          
          <div class="method-source-code" id="time_zone-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 275</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">time_zone</span>
  <span class="ruby-ivar">@options</span>[<span class="ruby-value">:use_default_time_zone</span>] <span class="ruby-operator">?</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">zone_default</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">zone</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- time_zone-source -->
          
        </div>

        

        
      </div><!-- time_zone-method -->

    
      <div id="method-i-to_s" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_s</span><span
            class="method-args">(style_name = default_style)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Alias to <code>url</code></p>
          

          
          <div class="method-source-code" id="to_s-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 155</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_s</span> <span class="ruby-identifier">style_name</span> = <span class="ruby-identifier">default_style</span>
  <span class="ruby-identifier">url</span>(<span class="ruby-identifier">style_name</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- to_s-source -->
          
        </div>

        

        
      </div><!-- to_s-method -->

    
      <div id="method-i-updated_at" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">updated_at</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns the last modified time of the file as originally assigned, and
lives in the &lt;attachment&gt;_updated_at attribute of the model.</p>
          

          
          <div class="method-source-code" id="updated_at-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 268</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">updated_at</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-identifier">instance_read</span>(<span class="ruby-value">:updated_at</span>)
  <span class="ruby-identifier">time</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">time</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">to_i</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- updated_at-source -->
          
        </div>

        

        
      </div><!-- updated_at-method -->

    
      <div id="method-i-uploaded_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">uploaded_file</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns the uploaded file if present.</p>
          

          
          <div class="method-source-code" id="uploaded_file-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 229</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">uploaded_file</span>
  <span class="ruby-identifier">instance_read</span>(<span class="ruby-value">:uploaded_file</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- uploaded_file-source -->
          
        </div>

        

        
      </div><!-- uploaded_file-method -->

    
      <div id="method-i-url" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">url</span><span
            class="method-args">(style_name = default_style, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns the public URL of the attachment with a given style. This does not
necessarily need to point to a file that your Web server can access and can
instead point to an action in your app, for example for fine grained
security; this has a serious performance tradeoff.</p>

<p>Options:</p>

<p><code>timestamp</code> - Add a timestamp to the end of the URL. Default:
true. <code>escape</code>    - Perform URI escaping to the URL. Default:
true.</p>

<p>Global controls (set on has_attached_file):</p>

<p><code>interpolator</code>  - The object that fills in a URL pattern's
variables. <code>default_url</code>   - The image to show when the
attachment has no image. <code>url</code>           - The URL for a saved
image. <code>url_generator</code> - The object that generates a URL.
Default: <a href="UrlGenerator.html">Paperclip::UrlGenerator</a>.</p>

<p>As mentioned just above, the object that generates this URL can be passed
in, for finer control. This object must respond to two methods:</p>

<p>+new(<a href="Attachment.html">Paperclip::Attachment</a>, options_hash)+
+for(style_name, options_hash)+</p>
          

          
          <div class="method-source-code" id="url-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip/attachment.rb, line 135</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">url</span>(<span class="ruby-identifier">style_name</span> = <span class="ruby-identifier">default_style</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">default_options</span> = {<span class="ruby-value">:timestamp</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:use_timestamp</span>], <span class="ruby-value">:escape</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>}

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span> <span class="ruby-comment"># Backwards compatibility.</span>
    <span class="ruby-ivar">@url_generator</span>.<span class="ruby-identifier">for</span>(<span class="ruby-identifier">style_name</span>, <span class="ruby-identifier">default_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:timestamp</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@url_generator</span>.<span class="ruby-identifier">for</span>(<span class="ruby-identifier">style_name</span>, <span class="ruby-identifier">default_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- url-source -->
          
        </div>

        

        
      </div><!-- url-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

