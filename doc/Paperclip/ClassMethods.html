<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>module Paperclip::ClassMethods - RDoc Documentation</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="module">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>vendor/plugins/paperclip/lib/paperclip.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-i-attachment_definitions">#attachment_definitions</a>
    
    <li><a href="#method-i-has_attached_file">#has_attached_file</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../public/robots_txt.html">robots</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/Appraisals.html">Appraisals</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/NEWS.html">NEWS</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/UPGRADING.html">UPGRADING</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/features/support/fixtures/boot_config_txt.html">boot_config</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/features/support/fixtures/gemfile_txt.html">gemfile</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/features/support/fixtures/preinitializer_txt.html">preinitializer</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/lib/generators/paperclip/USAGE.html">USAGE</a>
  
    <li class="file"><a href="../vendor/plugins/paperclip/test/fixtures/text_txt.html">text</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../Paperclip.html">Paperclip</a>
  
    <li><a href="../Paperclip/AbstractAdapter.html">Paperclip::AbstractAdapter</a>
  
    <li><a href="../Paperclip/AdapterRegistry.html">Paperclip::AdapterRegistry</a>
  
    <li><a href="../Paperclip/AdapterRegistry/NoHandlerError.html">Paperclip::AdapterRegistry::NoHandlerError</a>
  
    <li><a href="../Paperclip/Attachment.html">Paperclip::Attachment</a>
  
    <li><a href="../Paperclip/AttachmentAdapter.html">Paperclip::AttachmentAdapter</a>
  
    <li><a href="../Paperclip/AttachmentOptions.html">Paperclip::AttachmentOptions</a>
  
    <li><a href="../Paperclip/Callbacks.html">Paperclip::Callbacks</a>
  
    <li><a href="../Paperclip/Callbacks/Defining.html">Paperclip::Callbacks::Defining</a>
  
    <li><a href="../Paperclip/Callbacks/Running.html">Paperclip::Callbacks::Running</a>
  
    <li><a href="../Paperclip/ClassMethods.html">Paperclip::ClassMethods</a>
  
    <li><a href="../Paperclip/ContentTypeDetector.html">Paperclip::ContentTypeDetector</a>
  
    <li><a href="../Paperclip/Error.html">Paperclip::Error</a>
  
    <li><a href="../Paperclip/Errors.html">Paperclip::Errors</a>
  
    <li><a href="../Paperclip/Errors/CommandNotFoundError.html">Paperclip::Errors::CommandNotFoundError</a>
  
    <li><a href="../Paperclip/Errors/InfiniteInterpolationError.html">Paperclip::Errors::InfiniteInterpolationError</a>
  
    <li><a href="../Paperclip/Errors/NotIdentifiedByImageMagickError.html">Paperclip::Errors::NotIdentifiedByImageMagickError</a>
  
    <li><a href="../Paperclip/Errors/StorageMethodNotFound.html">Paperclip::Errors::StorageMethodNotFound</a>
  
    <li><a href="../Paperclip/FileAdapter.html">Paperclip::FileAdapter</a>
  
    <li><a href="../Paperclip/Geometry.html">Paperclip::Geometry</a>
  
    <li><a href="../Paperclip/Glue.html">Paperclip::Glue</a>
  
    <li><a href="../Paperclip/Helpers.html">Paperclip::Helpers</a>
  
    <li><a href="../Paperclip/IdentityAdapter.html">Paperclip::IdentityAdapter</a>
  
    <li><a href="../Paperclip/Interpolations.html">Paperclip::Interpolations</a>
  
    <li><a href="../Paperclip/Logger.html">Paperclip::Logger</a>
  
    <li><a href="../Paperclip/NilAdapter.html">Paperclip::NilAdapter</a>
  
    <li><a href="../Paperclip/Processor.html">Paperclip::Processor</a>
  
    <li><a href="../Paperclip/ProcessorHelpers.html">Paperclip::ProcessorHelpers</a>
  
    <li><a href="../Paperclip/Railtie.html">Paperclip::Railtie</a>
  
    <li><a href="../Paperclip/Schema.html">Paperclip::Schema</a>
  
    <li><a href="../Paperclip/Schema/CommandRecorder.html">Paperclip::Schema::CommandRecorder</a>
  
    <li><a href="../Paperclip/Schema/Statements.html">Paperclip::Schema::Statements</a>
  
    <li><a href="../Paperclip/Schema/TableDefinition.html">Paperclip::Schema::TableDefinition</a>
  
    <li><a href="../Paperclip/Shoulda.html">Paperclip::Shoulda</a>
  
    <li><a href="../Paperclip/Shoulda/Matchers.html">Paperclip::Shoulda::Matchers</a>
  
    <li><a href="../Paperclip/Shoulda/Matchers/HaveAttachedFileMatcher.html">Paperclip::Shoulda::Matchers::HaveAttachedFileMatcher</a>
  
    <li><a href="../Paperclip/Shoulda/Matchers/ValidateAttachmentContentTypeMatcher.html">Paperclip::Shoulda::Matchers::ValidateAttachmentContentTypeMatcher</a>
  
    <li><a href="../Paperclip/Shoulda/Matchers/ValidateAttachmentPresenceMatcher.html">Paperclip::Shoulda::Matchers::ValidateAttachmentPresenceMatcher</a>
  
    <li><a href="../Paperclip/Shoulda/Matchers/ValidateAttachmentSizeMatcher.html">Paperclip::Shoulda::Matchers::ValidateAttachmentSizeMatcher</a>
  
    <li><a href="../Paperclip/Storage.html">Paperclip::Storage</a>
  
    <li><a href="../Paperclip/Storage/Filesystem.html">Paperclip::Storage::Filesystem</a>
  
    <li><a href="../Paperclip/Storage/Fog.html">Paperclip::Storage::Fog</a>
  
    <li><a href="../Paperclip/Storage/S3.html">Paperclip::Storage::S3</a>
  
    <li><a href="../Paperclip/StringioAdapter.html">Paperclip::StringioAdapter</a>
  
    <li><a href="../Paperclip/Style.html">Paperclip::Style</a>
  
    <li><a href="../Paperclip/Tempfile.html">Paperclip::Tempfile</a>
  
    <li><a href="../Paperclip/TempfileEncoding.html">Paperclip::TempfileEncoding</a>
  
    <li><a href="../Paperclip/TempfileFactory.html">Paperclip::TempfileFactory</a>
  
    <li><a href="../Paperclip/TempfileFactoryTest.html">Paperclip::TempfileFactoryTest</a>
  
    <li><a href="../Paperclip/Thumbnail.html">Paperclip::Thumbnail</a>
  
    <li><a href="../Paperclip/UploadedFileAdapter.html">Paperclip::UploadedFileAdapter</a>
  
    <li><a href="../Paperclip/UriAdapter.html">Paperclip::UriAdapter</a>
  
    <li><a href="../Paperclip/UrlGenerator.html">Paperclip::UrlGenerator</a>
  
    <li><a href="../Paperclip/Validators.html">Paperclip::Validators</a>
  
    <li><a href="../Paperclip/Validators/AttachmentContentTypeValidator.html">Paperclip::Validators::AttachmentContentTypeValidator</a>
  
    <li><a href="../Paperclip/Validators/AttachmentPresenceValidator.html">Paperclip::Validators::AttachmentPresenceValidator</a>
  
    <li><a href="../Paperclip/Validators/AttachmentSizeValidator.html">Paperclip::Validators::AttachmentSizeValidator</a>
  
    <li><a href="../Paperclip/Validators/ClassMethods.html">Paperclip::Validators::ClassMethods</a>
  
    <li><a href="../Paperclip/Validators/HelperMethods.html">Paperclip::Validators::HelperMethods</a>
  
    <li><a href="../AttachmentTest.html">AttachmentTest</a>
  
    <li><a href="../AttachmentTest/AttachmentTest.html">AttachmentTest::AttachmentTest</a>
  
    <li><a href="../AttachmentTest/AttachmentTest/Paperclip.html">AttachmentTest::AttachmentTest::Paperclip</a>
  
    <li><a href="../AttachmentTest/AttachmentTest/Paperclip/Test.html">AttachmentTest::AttachmentTest::Paperclip::Test</a>
  
    <li><a href="../Test.html">Test</a>
  
    <li><a href="../Test/Unit.html">Test::Unit</a>
  
    <li><a href="../Test/Unit/TestCase.html">Test::Unit::TestCase</a>
  
    <li><a href="../AbstractAdapterTest.html">AbstractAdapterTest</a>
  
    <li><a href="../AbstractAdapterTest/TestAdapter.html">AbstractAdapterTest::TestAdapter</a>
  
    <li><a href="../ActionController.html">ActionController</a>
  
    <li><a href="../ActionController/Integration.html">ActionController::Integration</a>
  
    <li><a href="../AdapterRegistryTest.html">AdapterRegistryTest</a>
  
    <li><a href="../AdapterRegistryTest/AdapterTest.html">AdapterRegistryTest::AdapterTest</a>
  
    <li><a href="../BestBay.html">BestBay</a>
  
    <li><a href="../BestBay/Application.html">BestBay::Application</a>
  
    <li><a href="../FactoryGirl.html">FactoryGirl</a>
  
    <li><a href="../FactoryGirl/Factory.html">FactoryGirl::Factory</a>
  
    <li><a href="../FakeWeb.html">FakeWeb</a>
  
    <li><a href="../FakeWeb/StubSocket.html">FakeWeb::StubSocket</a>
  
    <li><a href="../One.html">One</a>
  
    <li><a href="../One/Two.html">One::Two</a>
  
    <li><a href="../PaperclipTest.html">PaperclipTest</a>
  
    <li><a href="../PaperclipTest/Dummy2.html">PaperclipTest::Dummy2</a>
  
    <li><a href="../UploadedFileAdapterTest.html">UploadedFileAdapterTest</a>
  
    <li><a href="../UploadedFileAdapterTest/UploadedFile.html">UploadedFileAdapterTest::UploadedFile</a>
  
    <li><a href="../AddImageToProducts.html">AddImageToProducts</a>
  
    <li><a href="../AddPasswordDigestToUsers.html">AddPasswordDigestToUsers</a>
  
    <li><a href="../AddRememberTokenToUsers.html">AddRememberTokenToUsers</a>
  
    <li><a href="../AddSellingProductsToUsers.html">AddSellingProductsToUsers</a>
  
    <li><a href="../AddUserIdProductIdToBid.html">AddUserIdProductIdToBid</a>
  
    <li><a href="../AddUserNameToProducts.html">AddUserNameToProducts</a>
  
    <li><a href="../ApplicationController.html">ApplicationController</a>
  
    <li><a href="../ApplicationHelper.html">ApplicationHelper</a>
  
    <li><a href="../AttachmentAdapterTest.html">AttachmentAdapterTest</a>
  
    <li><a href="../AttachmentContentTypeValidatorTest.html">AttachmentContentTypeValidatorTest</a>
  
    <li><a href="../AttachmentHelpers.html">AttachmentHelpers</a>
  
    <li><a href="../AttachmentOptionsTest.html">AttachmentOptionsTest</a>
  
    <li><a href="../AttachmentPresenceValidatorTest.html">AttachmentPresenceValidatorTest</a>
  
    <li><a href="../AttachmentSizeValidatorTest.html">AttachmentSizeValidatorTest</a>
  
    <li><a href="../Bid.html">Bid</a>
  
    <li><a href="../Book.html">Book</a>
  
    <li><a href="../ContentTypeDetectorTest.html">ContentTypeDetectorTest</a>
  
    <li><a href="../CreateBids.html">CreateBids</a>
  
    <li><a href="../CreateProducts.html">CreateProducts</a>
  
    <li><a href="../CreateUsers.html">CreateUsers</a>
  
    <li><a href="../Dummy.html">Dummy</a>
  
    <li><a href="../Factory.html">Factory</a>
  
    <li><a href="../FakeModel.html">FakeModel</a>
  
    <li><a href="../FileAdapterTest.html">FileAdapterTest</a>
  
    <li><a href="../FileHelpers.html">FileHelpers</a>
  
    <li><a href="../FileSystemTest.html">FileSystemTest</a>
  
    <li><a href="../FixColumNameOfProductUserId.html">FixColumNameOfProductUserId</a>
  
    <li><a href="../FogTest.html">FogTest</a>
  
    <li><a href="../Four.html">Four</a>
  
    <li><a href="../GeneratorTest.html">GeneratorTest</a>
  
    <li><a href="../GeometryTest.html">GeometryTest</a>
  
    <li><a href="../HaveAttachedFileMatcherTest.html">HaveAttachedFileMatcherTest</a>
  
    <li><a href="../HtmlSelectorsHelpers.html">HtmlSelectorsHelpers</a>
  
    <li><a href="../IdentityAdapterTest.html">IdentityAdapterTest</a>
  
    <li><a href="../IntegrationTest.html">IntegrationTest</a>
  
    <li><a href="../InterpolationsTest.html">InterpolationsTest</a>
  
    <li><a href="../MetaClassTest.html">MetaClassTest</a>
  
    <li><a href="../MockAttachment.html">MockAttachment</a>
  
    <li><a href="../MockInterpolator.html">MockInterpolator</a>
  
    <li><a href="../MockModel.html">MockModel</a>
  
    <li><a href="../MockUrlGeneratorBuilder.html">MockUrlGeneratorBuilder</a>
  
    <li><a href="../NavigationHelpers.html">NavigationHelpers</a>
  
    <li><a href="../NilAdapterTest.html">NilAdapterTest</a>
  
    <li><a href="../Object.html">Object</a>
  
    <li><a href="../PaperclipGenerator.html">PaperclipGenerator</a>
  
    <li><a href="../PaperclipMissingAttachmentStylesTest.html">PaperclipMissingAttachmentStylesTest</a>
  
    <li><a href="../ProcessorTest.html">ProcessorTest</a>
  
    <li><a href="../Product.html">Product</a>
  
    <li><a href="../ProductsController.html">ProductsController</a>
  
    <li><a href="../ProductsHelper.html">ProductsHelper</a>
  
    <li><a href="../RailsCommandHelpers.html">RailsCommandHelpers</a>
  
    <li><a href="../S3LiveTest.html">S3LiveTest</a>
  
    <li><a href="../S3Test.html">S3Test</a>
  
    <li><a href="../SchemaTest.html">SchemaTest</a>
  
    <li><a href="../SessionsController.html">SessionsController</a>
  
    <li><a href="../SessionsHelper.html">SessionsHelper</a>
  
    <li><a href="../StaticPagesController.html">StaticPagesController</a>
  
    <li><a href="../StringioFileProxyTest.html">StringioFileProxyTest</a>
  
    <li><a href="../StyleTest.html">StyleTest</a>
  
    <li><a href="../SubDummy.html">SubDummy</a>
  
    <li><a href="../Three.html">Three</a>
  
    <li><a href="../ThumbnailTest.html">ThumbnailTest</a>
  
    <li><a href="../UriProxyTest.html">UriProxyTest</a>
  
    <li><a href="../UrlGeneratorTest.html">UrlGeneratorTest</a>
  
    <li><a href="../User.html">User</a>
  
    <li><a href="../UsersController.html">UsersController</a>
  
    <li><a href="../UsersHelper.html">UsersHelper</a>
  
    <li><a href="../ValidateAttachmentContentTypeMatcherTest.html">ValidateAttachmentContentTypeMatcherTest</a>
  
    <li><a href="../ValidateAttachmentPresenceMatcherTest.html">ValidateAttachmentPresenceMatcherTest</a>
  
    <li><a href="../ValidateAttachmentSizeMatcherTest.html">ValidateAttachmentSizeMatcherTest</a>
  
    <li><a href="../ValidatorsTest.html">ValidatorsTest</a>
  
    <li><a href="../WelcomeHelper.html">WelcomeHelper</a>
  
    <li><a href="../WithinHelpers.html">WithinHelpers</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="module">module Paperclip::ClassMethods</h1>

  <div id="description" class="description">
    
  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-attachment_definitions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">attachment_definitions</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns the attachment definitions defined by each call to
has_attached_file.</p>
          

          
          <div class="method-source-code" id="attachment_definitions-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip.rb, line 211</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">attachment_definitions</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">attachment_definitions</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- attachment_definitions-source -->
          
        </div>

        

        
      </div><!-- attachment_definitions-method -->

    
      <div id="method-i-has_attached_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">has_attached_file</span><span
            class="method-args">(name, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p><code>has_attached_file</code> gives the class it is called on an attribute
that maps to a file. This is typically a file stored somewhere on the
filesystem and has been uploaded by a user. The attribute returns a <a
href="Attachment.html">Paperclip::Attachment</a> object which handles the
management of that file. The intent is to make the attachment as much like
a normal attribute. The thumbnails will be created when the new file is
assigned, but they will <strong>not</strong> be saved until
<code>save</code> is called on the record. Likewise, if the attribute is
set to <code>nil</code> is called on it, the attachment will
<strong>not</strong> be deleted until <code>save</code> is called. See the
<a href="Attachment.html">Paperclip::Attachment</a> documentation for more
specifics. There are a number of options you can set to change the behavior
of a <a href="../Paperclip.html">Paperclip</a> attachment:</p>
<ul><li>
<p><code>url</code>: The full URL of where the attachment is publically
accessible. This can just as easily point to a directory served directly
through Apache as it can to an action that can control permissions. You can
specify the full domain and path, but usually just an absolute path is
sufficient. The leading slash <strong>must</strong> be included manually
for absolute paths. The default value is
"/system/:class/:attachment/:id_partition/:style/:filename". See
Paperclip::Attachment#interpolate for more information on variable
interpolaton.</p>

<pre class="ruby">:<span class="ruby-identifier">url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;/:class/:attachment/:id/:style_:filename&quot;</span>
:<span class="ruby-identifier">url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;http://some.other.host/stuff/:class/:id_:extension&quot;</span>
</pre>
</li><li>
<p><code>default_url</code>: The URL that will be returned if there is no
attachment assigned. This field is interpolated just as the url is. The
default value is "/:attachment/:style/missing.png"</p>

<pre class="ruby"><span class="ruby-identifier">has_attached_file</span> :<span class="ruby-identifier">avatar</span>, :<span class="ruby-identifier">default_url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;/images/default_:style_avatar.png&quot;</span>
<span class="ruby-constant">User</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">avatar_url</span>(:<span class="ruby-identifier">small</span>) <span class="ruby-comment"># =&gt; &quot;/images/default_small_avatar.png&quot;</span>
</pre>
</li><li>
<p><code>styles</code>: A hash of thumbnail styles and their geometries. You
can find more about geometry strings at the ImageMagick website (<a
href="http://www.imagemagick.org/script/command-line-options.php#resize">www.imagemagick.org/script/command-line-options.php#resize</a>).
<a href="../Paperclip.html">Paperclip</a> also adds the "#" option (e.g.
"50x50#"), which will resize the image to fit maximally inside the
dimensions and then crop the rest off (weighted at the center). The default
value is to generate no thumbnails.</p>
</li><li>
<p><code>default_style</code>: The thumbnail style that will be used by
default URLs. Defaults to <code>original</code>.</p>

<pre class="ruby"><span class="ruby-identifier">has_attached_file</span> :<span class="ruby-identifier">avatar</span>, :<span class="ruby-identifier">styles</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">normal</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;100x100#&quot;</span> },
                  :<span class="ruby-identifier">default_style</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">normal</span>
<span class="ruby-identifier">user</span>.<span class="ruby-identifier">avatar</span>.<span class="ruby-identifier">url</span> <span class="ruby-comment"># =&gt; &quot;/avatars/23/normal_me.png&quot;</span>
</pre>
</li><li>
<p><code>keep_old_files</code>: Keep the existing attachment files (original +
resized) from being automatically deleted when an attachment is cleared or
updated. Defaults to <code>false</code>.#</p>
</li><li>
<p><code>whiny</code>: Will raise an error if <a
href="../Paperclip.html">Paperclip</a> cannot post_process an uploaded file
due to a command line error. This will override the global setting for this
attachment. Defaults to true.</p>
</li><li>
<p><code>convert_options</code>: When creating thumbnails, use this free-form
options array to pass in various convert command options.  Typical options
are "-strip" to remove all Exif data from the image (save space for
thumbnails and avatars) or "-depth 8" to specify the bit depth of the
resulting conversion.  See ImageMagick convert documentation for more
options: (<a
href="http://www.imagemagick.org/script/convert.php">www.imagemagick.org/script/convert.php</a>)
Note that this option takes a hash of options, each of which correspond to
the style of thumbnail being generated. You can also specify :all as a key,
which will apply to all of the thumbnails being generated. If you specify
options for the :original, it would be best if you did not specify
destructive options, as the intent of keeping the original around is to
regenerate all the thumbnails when requirements change.</p>

<pre class="ruby"><span class="ruby-identifier">has_attached_file</span> :<span class="ruby-identifier">avatar</span>, :<span class="ruby-identifier">styles</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">large</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;300x300&quot;</span>, :<span class="ruby-identifier">negative</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;100x100&quot;</span> }
                           :<span class="ruby-identifier">convert_options</span> =<span class="ruby-operator">&gt;</span> {
                             :<span class="ruby-identifier">all</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;-strip&quot;</span>,
                             :<span class="ruby-identifier">negative</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;-negate&quot;</span>
                           }
</pre>

<p>NOTE: While not deprecated yet, it is not recommended to specify options
this way. It is recommended that :convert_options option be included in the
hash passed to each :styles for compatibility with future versions. NOTE:
Strings supplied to :convert_options are split on space in order to undergo
shell quoting for safety. If your options require a space, please pre-split
them and pass an array to :convert_options instead.</p>
</li><li>
<p><code>storage</code>: Chooses the storage backend where the files will be
stored. The current choices are :filesystem, :fog and :s3. The default is
:filesystem. Make sure you read the documentation for <a
href="Storage/Filesystem.html">Paperclip::Storage::Filesystem</a>, <a
href="Storage/Fog.html">Paperclip::Storage::Fog</a> and <a
href="Storage/S3.html">Paperclip::Storage::S3</a> for backend-specific
options.</p>
</li></ul>

<p>It’s also possible for you to dynamically define your interpolation string
for :url, :default_url, and :path in your model by passing a method name as
a symbol as a argument for your <a
href="ClassMethods.html#method-i-has_attached_file">#has_attached_file</a>
definition:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Person</span>
  <span class="ruby-identifier">has_attached_file</span> :<span class="ruby-identifier">avatar</span>, :<span class="ruby-identifier">default_url</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">default_url_by_gender</span>

  <span class="ruby-identifier">private</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">default_url_by_gender</span>
    <span class="ruby-node">&quot;/assets/avatars/default_#{gender}.png&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>
          

          
          <div class="method-source-code" id="has_attached_file-source">
            <pre><span class="ruby-comment"># File vendor/plugins/paperclip/lib/paperclip.rb, line 171</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">has_attached_file</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">include</span> <span class="ruby-constant">InstanceMethods</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">attachment_definitions</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">attachment_definitions</span> = {}
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">attachment_definitions</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">attachment_definitions</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">attachment_definitions</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-constant">Paperclip</span><span class="ruby-operator">::</span><span class="ruby-constant">AttachmentOptions</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-constant">Paperclip</span>.<span class="ruby-identifier">classes_with_attachments</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span>
  <span class="ruby-constant">Paperclip</span>.<span class="ruby-identifier">check_for_url_clash</span>(<span class="ruby-identifier">name</span>,<span class="ruby-identifier">attachment_definitions</span>[<span class="ruby-identifier">name</span>][<span class="ruby-value">:url</span>],<span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span>)

  <span class="ruby-identifier">after_save</span> <span class="ruby-value">:save_attached_files</span>
  <span class="ruby-identifier">before_destroy</span> <span class="ruby-value">:prepare_for_destroy</span>
  <span class="ruby-identifier">after_destroy</span> <span class="ruby-value">:destroy_attached_files</span>

  <span class="ruby-identifier">define_paperclip_callbacks</span> <span class="ruby-value">:post_process</span>, <span class="ruby-value">:&quot;#{name}_post_process&quot;</span>

  <span class="ruby-identifier">define_method</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span>*<span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">a</span> = <span class="ruby-identifier">attachment_for</span>(<span class="ruby-identifier">name</span>)
    (<span class="ruby-identifier">args</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">a</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">define_method</span> <span class="ruby-node">&quot;#{name}=&quot;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">attachment_for</span>(<span class="ruby-identifier">name</span>).<span class="ruby-identifier">assign</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">define_method</span> <span class="ruby-node">&quot;#{name}?&quot;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">attachment_for</span>(<span class="ruby-identifier">name</span>).<span class="ruby-identifier">file?</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">validates_each</span>(<span class="ruby-identifier">name</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">record</span>, <span class="ruby-identifier">attr</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">attachment</span> = <span class="ruby-identifier">record</span>.<span class="ruby-identifier">attachment_for</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">attachment</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:flush_errors</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- has_attached_file-source -->
          
        </div>

        

        
      </div><!-- has_attached_file-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

